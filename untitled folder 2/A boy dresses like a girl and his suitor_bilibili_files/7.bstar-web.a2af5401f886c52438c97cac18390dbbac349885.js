(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{318:function(t,e,n){},319:function(t,e,n){},322:function(t,e,n){"use strict";var r=n(5),o=n.n(r),i=n(10),a=n.n(i),c=n(7),s=n.n(c),l=n(8),u=n.n(l),f=n(3),d=n.n(f),p=n(6),h=n.n(p),v=n(0),y=n(16);function m(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d()(t);if(e){var o=d()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u()(this,n)}}var b=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"==typeof Reflect?"undefined":h()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},g=function(t){s()(n,t);var e=m(n);function n(){var t;return o()(this,n),(t=e.apply(this,arguments)).viewWidth=0,t.page=0,t.pageNum=0,t}return a()(n,[{key:"updateData",value:function(){this.partition(),0!==this.page&&(this.page=0,this.slideTo(0))}},{key:"updateScreen",value:function(){var t=this;this.$nextTick((function(){t.partition()}))}},{key:"styleVar",get:function(){return{"--top":"".concat(this.top,"px")}}},{key:"maxPage",get:function(){return Math.ceil(this.data.length/this.pageNum)-1}},{key:"mounted",value:function(){this.partition()}},{key:"partition",value:function(){var t=this;this.$nextTick((function(){var e=t.$refs.scrollWrap,n=t.$refs.scrollItem;if(e&&n){var r=n[0].offsetWidth;t.viewWidth=e.offsetWidth,t.pageNum=Math.floor(t.viewWidth/r)}}))}},{key:"slideNext",value:function(){this.page=Math.min(this.page+1,this.maxPage),this.slide()}},{key:"slidePrev",value:function(){this.page=Math.max(this.page-1,0),this.slide()}},{key:"slideTo",value:function(t){this.page=t,this.slide()}},{key:"slide",value:function(){var t=this;this.$nextTick((function(){var e=t.$refs.scrollItem[t.page*t.pageNum];e&&e.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"})}))}}]),n}(v.f);b([Object(v.d)({type:String,default:"b_key"})],g.prototype,"unique",void 0),b([Object(v.d)({type:Array,required:!0})],g.prototype,"data",void 0),b([Object(v.d)({type:Number,required:!0})],g.prototype,"top",void 0),b([Object(v.d)({type:Boolean,default:!1})],g.prototype,"mask",void 0),b([Object(y.b)("layoutSize")],g.prototype,"layoutSize",void 0),b([Object(v.g)("data")],g.prototype,"updateData",null),b([Object(v.g)("layoutSize")],g.prototype,"updateScreen",null);var _=g=b([v.a],g),k=(n(339),n(9)),O=Object(k.a)(_,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"scroll-wrap",style:t.styleVar},[n("div",{ref:"scrollWrap",staticClass:"scroll-wrap__list"},[n("ul",{staticClass:"scroll-wrap__list-container"},t._l(t.data,(function(e,r){return n("li",{key:e[t.unique]||r,ref:"scrollItem",refInFor:!0,staticClass:"scroll-wrap__item"},[t._t("default",null,{item:e,index:r})],2)})),0)]),t._v(" "),t.mask&&t.data.length>t.pageNum?[n("i",{staticClass:"scroll-wrap__mask left"}),t._v(" "),n("i",{staticClass:"scroll-wrap__mask right"})]:t._e(),t._v(" "),n("button",{directives:[{name:"show",rawName:"v-show",value:0!==t.page,expression:"page !== 0"}],staticClass:"scroll-wrap__button prev",on:{click:t.slidePrev}},[t._t("prev",(function(){return[n("i",{staticClass:"icon icon-prev"})]}))],2),t._v(" "),n("button",{directives:[{name:"show",rawName:"v-show",value:t.page!==t.maxPage,expression:"page !== maxPage"}],staticClass:"scroll-wrap__button next",on:{click:t.slideNext}},[t._t("next",(function(){return[n("i",{staticClass:"icon icon-next"})]}))],2)],2)}),[],!1,null,null,null);e.a=O.exports},323:function(t,e,n){},324:function(t,e,n){t.exports=n.p+"assets/404.png"},325:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return i}));var r=n(13),o=function(t){var e=t.scheme,n=void 0===e?"bstar://home":e,o=t.universalLink,i=void 0===o?"https://www.bilibili.tv/":o,a=t.downloadUrl,c=void 0===a?"https://www.bilibili.tv/download":a,s=t.onlyScheme,l=void 0!==s&&s,u=t.autoDownload,f=void 0===u||u,d=Object(r.e)(),p=d.isiOS,h=l?n:p?i:n;d.isInApp?document.location.href=n:function(t,e,n){if(!e)return;if(t&&""!==n){var r="hidden"in document?"hidden":"webkitHidden"in document?"webkitHidden":"mozHidden"in document?"mozHidden":null,o=null,i=function(){document[r]&&clearTimeout(o)};document.addEventListener("visibilitychange",i),o=setTimeout((function(){if(document.removeEventListener("visibilitychange",i),!document[r])return document.location.href=n,!1}),3e3)}document.location.href=e}(f,h,c)};var i=function(t,e){var n="";switch(t){case"HOME":n="bstar://home";break;case"ANIME":n=Object(r.e)().isAndroid?"bstar://home":"bstar://pgc/home";break;case"OGV_DETAIL":n="bstar://pgc/season/".concat((null==e?void 0:e.seasonId)||"","/episode/").concat((null==e?void 0:e.epId)||"");break;case"UGC_DETAIL":n="bstar://av/".concat((null==e?void 0:e.aid)||"");break;case"SPACE":n="bstar://space/".concat((null==e?void 0:e.mid)||"");break;case"LIVE":n="bstar://live/".concat((null==e?void 0:e.roomId)||"");break;default:n="bstar://home"}return n}},326:function(t,e,n){},327:function(t,e,n){"use strict";n(318)},328:function(t,e,n){"use strict";n(319)},329:function(t,e,n){"use strict";var r=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"bstar-web"},[e("div",{staticClass:"bstar-web__error"},[e("img",{staticClass:"bstar-web__error--image",attrs:{src:n(324),alt:"error_image"}})])])}],o=n(5),i=n.n(o),a=n(10),c=n.n(a),s=n(7),l=n.n(s),u=n(8),f=n.n(u),d=n(3),p=n.n(d),h=n(6),v=n.n(h),y=n(0);function m(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p()(t);if(e){var o=p()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f()(this,n)}}var b=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"==typeof Reflect?"undefined":v()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},g=function(t){l()(n,t);var e=m(n);function n(){return i()(this,n),e.apply(this,arguments)}return c()(n,[{key:"mounted",value:function(){this.$store.commit("setIsDark",!1),this.$store.commit("setIsLoading",!1)}}]),n}(y.f),_=g=b([y.a],g),k=(n(327),n(9)),O=Object(k.a)(_,(function(){var t=this.$createElement;this._self._c;return this._m(0)}),r,!1,null,null,null);e.a=O.exports},330:function(t,e,n){"use strict";var r=n(5),o=n.n(r),i=n(10),a=n.n(i),c=n(7),s=n.n(c),l=n(8),u=n.n(l),f=n(3),d=n.n(f),p=n(6),h=n.n(p),v=n(0),y=n(325),m=n(13);function b(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d()(t);if(e){var o=d()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u()(this,n)}}var g=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"==typeof Reflect?"undefined":h()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},_=function(t){s()(n,t);var e=b(n);function n(){return o()(this,n),e.apply(this,arguments)}return a()(n,[{key:"isMobile",get:function(){return Object(m.e)().isMobile}},{key:"open",value:function(){this.$customReport("open_app_button_click",this.opts),Object(y.b)({onlyScheme:!0,scheme:Object(y.a)(this.type,this.opts)})}}]),n}(v.f);g([Object(v.d)(String)],_.prototype,"type",void 0),g([Object(v.d)(Object)],_.prototype,"opts",void 0);var k=_=g([v.a],_),O=(n(328),n(9)),j=Object(O.a)(k,(function(){var t=this.$createElement;return(this._self._c||t)("div",{directives:[{name:"show",rawName:"v-show",value:this.isMobile,expression:"isMobile"}],staticClass:"open-app-btn",on:{click:this.open}},[this._v("\n  "+this._s(this.$t("openAppBtn"))+"\n")])}),[],!1,null,"35929e15",null);e.a=j.exports},331:function(t,e,n){"use strict";var r=n(5),o=n.n(r),i=n(10),a=n.n(i),c=n(7),s=n.n(c),l=n(8),u=n.n(l),f=n(3),d=n.n(f),p=n(6),h=n.n(p),v=n(0);function y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d()(t);if(e){var o=d()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u()(this,n)}}var m=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"==typeof Reflect?"undefined":h()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},b=function(t){s()(n,t);var e=y(n);function n(){var t;return o()(this,n),(t=e.apply(this,arguments)).activeIndex=0,t.offsetDis=0,t.width=24,t}return a()(n,[{key:"barStyle",get:function(){return{width:"".concat(this.width,"px"),transform:"translateX(".concat(this.offsetDis,"px)")}}},{key:"styleVar",get:function(){return{"--gap":"".concat(this.gap,"px")}}},{key:"activeDefault",value:function(t){this.findAndSetActiveIndex(t),this.setOffsetDis()}},{key:"activeChange",value:function(t){this.setOffsetDis(t)}},{key:"mounted",value:function(){this.findAndSetActiveIndex(),this.setOffsetDis()}},{key:"findAndSetActiveIndex",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.defaultActive;if(void 0!==t){var e=this.items.findIndex((function(e){return e.value.toString()===t.toString()}));void 0!==e&&(this.activeIndex=e)}}},{key:"onChange",value:function(t){t!==this.activeIndex&&(this.activeIndex=t,this.$emit("change",this.items[t],t))}},{key:"setOffsetDis",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.activeIndex;this.$nextTick((function(){var n=t.$refs.animeTabItem[e];if(n){t.barCenter||(t.width=n.clientWidth);var r=t.barCenter?n.offsetLeft+n.clientWidth/2-t.width/2:n.offsetLeft;t.offsetDis=r<0?24.5:r}}))}}]),n}(v.f);m([Object(v.d)(Array)],b.prototype,"items",void 0),m([Object(v.d)([String,Number])],b.prototype,"defaultActive",void 0),m([Object(v.d)({type:Boolean,default:!0})],b.prototype,"hasBar",void 0),m([Object(v.d)({type:Boolean,default:!0})],b.prototype,"barCenter",void 0),m([Object(v.d)({type:Number,default:0})],b.prototype,"gap",void 0),m([Object(v.g)("defaultActive")],b.prototype,"activeDefault",null),m([Object(v.g)("activeIndex")],b.prototype,"activeChange",null);var g=b=m([v.a],b),_=(n(340),n(9)),k=Object(_.a)(g,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"bstar-tab",style:t.styleVar},[t.hasBar?n("i",{staticClass:"bstar-tab__active-bar",style:t.barStyle}):t._e(),t._v(" "),t._l(t.items,(function(e,r){return n("li",{key:e.value,ref:"animeTabItem",refInFor:!0,class:["bstar-tab__item",{active:r===t.activeIndex}],on:{click:function(e){return t.onChange(r)}}},[t._t("default",(function(){return[t._v("\n      "+t._s(e.label)+"\n    ")]}),{item:e})],2)}))],2)}),[],!1,null,null,null);e.a=k.exports},334:function(t,e,n){},339:function(t,e,n){"use strict";n(323)},340:function(t,e,n){"use strict";n(326)},342:function(t,e,n){"use strict";n.d(e,"b",(function(){return l})),n.d(e,"c",(function(){return u})),n.d(e,"d",(function(){return f})),n.d(e,"e",(function(){return y})),n.d(e,"a",(function(){return b}));var r=n(12),o=n.n(r),i=n(15);function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var s=function(t){var e=Object.keys(t).reduce((function(e,n){return c(c({},e),{},o()({},n.replace(/_(\w)/g,(function(t,e){return e.toUpperCase()})),t[n]))}),{});return c(c({},t),e)},l=function(t,e){if(!t)return"";if(e===i.e.zh)return t>1e4?"".concat((t/1e4).toFixed(1),"万 播放"):"".concat(t," 播放");var n="";return n=t>1e6?"".concat((t/1e6).toFixed(1),"M"):t>1e3?"".concat((t/1e3).toFixed(1),"K"):t,e===i.e.th?"".concat(n," ผู้ชม"):e===i.e.en?"".concat(n,t<2?" View":" Views"):e===i.e.vi?"".concat(n," Lượt phát"):void 0},u=function(t,e){if(!t)return 0;if(e===i.e.zh)return t>1e4?"".concat((t/1e4).toFixed(1),"万"):"".concat(t);return t>1e6?"".concat((t/1e6).toFixed(1),"M"):t>1e3?"".concat((t/1e3).toFixed(1),"K"):t},f=function(t){return t?{dash:{duration:Math.floor(t.duration/1e3),minBufferTime:1.5,min_buffer_time:1.5,audio:v(t.audio_resource),video:h(t.video)}}:{dash:{}}},d=function(t){return{Initialization:t.range,indexRange:t.index_range}},p=function(t){return{initialization:t.range,index_range:t.index_range}},h=function(t){return t.filter((function(t){var e;return null==t||null===(e=t.video_resource)||void 0===e?void 0:e.url})).map((function(t){var e=null==t?void 0:t.video_resource,n={SegmentBase:d(e.segment_base),segment_base:p(e.segment_base),bandwidth:e.bandwidth,base_url:e.url,codecid:e.codec_id,codecs:e.codecs,frame_rate:e.frame_rate,height:e.height,id:e.quality,mime_type:e.mime_type,sar:e.sar,start_with_sap:e.start_with_sap,width:e.width};return s(n)}))},v=function(t){return t&&0!==t.length?t.filter((function(t){return t.url})).map((function(t){var e={height:t.height||0,bandwidth:t.bandwidth,base_url:t.url,codecid:t.codec_id,codecs:t.codecs,frame_rate:t.frame_rate,id:t.quality,mime_type:t.mime_type,sar:t.sar,start_with_sap:t.start_with_sap,width:t.width,segment_base:p(t.segment_base),SegmentBase:d(t.segment_base)};return s(e)})):[]},y=function(t){if(!t||!t.length)return{list:[]};var e=t.map((function(t){return t.url?{key:t.lang_key,title:t.lang,url:t.url}:null})).filter((function(t){return Boolean(t)}));return{list:e.length?e:null}},m=function(t){for(var e=[],n=new DataView(t),r=new Uint8Array(t.byteLength),o=0;o<r.length;o+=2){var i=n.getUint8(o)<<8|n.getUint8(o+1);e.push(i)}return e},b=function(t,e){return t&&e?{size:{xAxisLength:t.x_len,yAxisLength:t.y_len,xSize:t.x_size,ySize:t.y_size},images:t.images,indexMap:m(e)}:null}},343:function(t,e,n){"use strict";var r;n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return o})),function(t){t[t.OGV=0]="OGV",t[t.UGC=1]="UGC"}(r||(r={}));var o;!function(t){t[t.Idel=0]="Idel",t[t.Ready=1]="Ready",t[t.Buff=2]="Buff",t[t.Play=3]="Play",t[t.Pause=4]="Pause",t[t.Complete=5]="Complete"}(o||(o={}))},344:function(t,e,n){"use strict";var r,o,i,a;n.d(e,"a",(function(){return r})),n.d(e,"d",(function(){return o})),n.d(e,"c",(function(){return i})),n.d(e,"b",(function(){return a})),function(t){t[t.OGV=6]="OGV",t[t.UGC=9]="UGC"}(r||(r={})),function(t){t[t.Invalid=0]="Invalid",t[t.Mistranslations=601]="Mistranslations",t[t.LackOfLanguages=602]="LackOfLanguages",t[t.SubtitleMissing=72]="SubtitleMissing",t[t.SubtitleOutOfSync=42]="SubtitleOutOfSync",t[t.Others=29]="Others"}(o||(o={})),function(t){t[t.Invalid=0]="Invalid",t[t.IllegalContent=66]="IllegalContent",t[t.PornographicContent=67]="PornographicContent",t[t.HarmfulOrDangerousActs=68]="HarmfulOrDangerousActs",t[t.InappropriateTitleAndCover=69]="InappropriateTitleAndCover",t[t.UncomfortableContent=70]="UncomfortableContent",t[t.ChildSexualContent=86]="ChildSexualContent",t[t.PiracyAndInfringingContent=903]="PiracyAndInfringingContent",t[t.Others=29]="Others"}(i||(i={})),function(t){t[t.Invalid=-1]="Invalid",t[t.None=0]="None",t[t.Author=1]="Author",t[t.CopyrightOwner=2]="CopyrightOwner",t[t.CopyrightAgent=3]="CopyrightAgent"}(a||(a={}))},347:function(t,e,n){"use strict";var r=n(5),o=n.n(r),i=n(10),a=n.n(i),c=n(7),s=n.n(c),l=n(8),u=n.n(l),f=n(3),d=n.n(f),p=n(6),h=n.n(p),v=n(0);function y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d()(t);if(e){var o=d()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u()(this,n)}}var m=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"==typeof Reflect?"undefined":h()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},b=function(t){s()(n,t);var e=y(n);function n(){return o()(this,n),e.apply(this,arguments)}return a()(n,[{key:"onClickCancel",value:function(){this.$emit("cancel")}},{key:"onClickConfirm",value:function(){this.$emit("confirm")}}]),n}(v.f);m([Object(v.d)(Boolean)],b.prototype,"visible",void 0),m([Object(v.d)({type:String,default:"Confirm"})],b.prototype,"confirmText",void 0),m([Object(v.d)({type:String,default:"Cancel"})],b.prototype,"cancelText",void 0),m([Object(v.d)(String)],b.prototype,"desc",void 0);var g=b=m([v.a],b),_=(n(358),n(9)),k=Object(_.a)(g,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.visible?n("div",{staticClass:"comp-confirm__mask",on:{touchmove:function(t){t.preventDefault()}}},[n("div",{staticClass:"comp-confirm__mask-toast"},[n("div",{staticClass:"mask-toast__title"},[t._v("\n      "+t._s(t.desc)+"\n    ")]),t._v(" "),n("div",{staticClass:"mask-toast__btn"},[n("div",{staticClass:"mask-toast__btn--cancel",on:{click:t.onClickCancel}},[t._v("\n        "+t._s(t.cancelText)+"\n      ")]),t._v(" "),n("div",{staticClass:"mask-toast__btn--confirm",on:{click:t.onClickConfirm}},[t._v("\n        "+t._s(t.confirmText)+"\n      ")])])])]):t._e()}),[],!1,null,null,null);e.a=k.exports},348:function(t,e,n){"use strict";var r=n(5),o=n.n(r),i=n(10),a=n.n(i),c=n(7),s=n.n(c),l=n(8),u=n.n(l),f=n(3),d=n.n(f),p=n(6),h=n.n(p),v=n(0);function y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d()(t);if(e){var o=d()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u()(this,n)}}var m=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"==typeof Reflect?"undefined":h()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},b=function(t){s()(n,t);var e=y(n);function n(){var t;return o()(this,n),(t=e.apply(this,arguments)).isFocus=!1,t}return a()(n,[{key:"isWordLimitVisible",get:function(){return this.showWordLimit&&this.maxlength&&("text"===this.type||"textarea"===this.type)&&!this.disabled}},{key:"textLength",get:function(){return"number"==typeof this.value?String(this.value).length:(this.value||"").length}},{key:"handleInput",value:function(t){this.$emit("input",this.maxlength&&this.maxlength>0?t.target.value.slice(0,this.maxlength):t.target.value),this.maxlength&&this.maxlength>0&&(t.target.value=t.target.value.slice(0,this.maxlength))}},{key:"handleChange",value:function(t){this.$emit("change",t.target.value)}},{key:"handleFocus",value:function(t){this.isFocus=!0,this.$emit("focus",t)}},{key:"handleBlur",value:function(t){this.isFocus=!1,this.$emit("blur",t)}}]),n}(v.f);m([Object(v.d)({type:[String,Number],default:""})],b.prototype,"value",void 0),m([Object(v.d)({type:String,default:"text"})],b.prototype,"type",void 0),m([Object(v.d)({type:Boolean,default:!1})],b.prototype,"disabled",void 0),m([Object(v.d)({type:Boolean,default:!1})],b.prototype,"readonly",void 0),m([Object(v.d)({type:String,default:""})],b.prototype,"placeholder",void 0),m([Object(v.d)({type:Boolean,default:!1})],b.prototype,"showWordLimit",void 0),m([Object(v.d)({type:Number})],b.prototype,"maxlength",void 0),m([Object(v.d)({type:Number,default:2})],b.prototype,"rows",void 0),m([Object(v.d)({type:String,default:"vertical"})],b.prototype,"resize",void 0);var g=b=m([v.a],b),_=(n(404),n(9)),k=Object(_.a)(g,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:["bstar-input",{"bstar-input--suffix":t.$slots.suffix,"is-disabled":t.disabled,"word-limit-visible":t.isWordLimitVisible,"bstar-textarea":"textarea"===t.type,"bstar-input--focus":t.isFocus}]},["textarea"===t.type?n("textarea",{staticClass:"bstar-textarea__inner",style:{resize:t.resize},attrs:{type:t.type,rows:t.rows,disabled:t.disabled,readonly:t.readonly,placeholder:t.placeholder},domProps:{value:t.value},on:{input:t.handleInput,blur:t.handleBlur,focus:t.handleFocus,change:t.handleChange}}):[t.$slots.prepend?n("div",{staticClass:"bstar-input__prepend"},[t._t("prepend")],2):t._e(),t._v(" "),n("input",{staticClass:"bstar-input__inner",attrs:{type:t.type,disabled:t.disabled,readonly:t.readonly,placeholder:t.placeholder},domProps:{value:t.value},on:{input:t.handleInput,blur:t.handleBlur,focus:t.handleFocus,change:t.handleChange}}),t._v(" "),"text"===t.type&&t.$slots.suffix?n("div",{staticClass:"bstar-input__suffix"},[t._t("suffix")],2):t._e()],t._v(" "),t.isWordLimitVisible&&"textarea"===t.type?n("span",{staticClass:"bstar-input__count"},[t._v(t._s(t.textLength)+"/"+t._s(t.maxlength))]):t._e()],2)}),[],!1,null,null,null);e.a=k.exports},351:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return l}));var r=n(19),o=n(13),i=n(26),a=function(t,e,n){var a,s=c(t,e),l=Object(o.c)(s);return null!==(a=navigator)&&void 0!==a&&a.sendBeacon?navigator.sendBeacon("//".concat(i.a.apiUrl,"/intl/gateway/web/v2/").concat("history/add"),l):r.c.post("history/add",l)(n)},c=function(t,e){var n=e.epid,r=e.aid,o=e.current_progress;return{oid:Number(4===t?n:r),type:t,progress:o}},s=function(t){return r.c.post("history/del",t)},l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.c.get("history/list",t)}},352:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r,o=n(11);!function(t){t.ClickCCReport="clickCCReport",t.CloseCCReport="closeCCReport",t.ClickReport="clickReport",t.CloseReport="closeReport"}(r||(r={}));var i=new o.default;e.b=i},357:function(t,e,n){},358:function(t,e,n){"use strict";n(334)},359:function(t,e,n){},360:function(t,e,n){},361:function(t,e,n){},362:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"c",(function(){return i})),n.d(e,"b",(function(){return a}));var r=n(19),o=function(t){return r.c.get("feedback/form",{type:t})},i=function(t){return r.c.post("feedback/ogv-subtitle/report",t)},a=function(t){return r.c.post("feedback/archive/report",t)}},363:function(t,e,n){},364:function(t,e,n){},365:function(t,e,n){},366:function(t,e,n){},367:function(t,e,n){},368:function(t,e,n){},369:function(t,e,n){},370:function(t,e,n){},371:function(t,e,n){},372:function(t,e,n){},373:function(t,e,n){},374:function(t,e,n){},375:function(t,e,n){},376:function(t,e,n){},377:function(t,e,n){},379:function(t,e,n){"use strict";var r=n(5),o=n.n(r),i=n(10),a=n.n(i),c=n(7),s=n.n(c),l=n(8),u=n.n(l),f=n(3),d=n.n(f),p=n(6),h=n.n(p),v=n(0);function y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d()(t);if(e){var o=d()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u()(this,n)}}var m=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"==typeof Reflect?"undefined":h()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},b=function(t){s()(n,t);var e=y(n);function n(){return o()(this,n),e.apply(this,arguments)}return a()(n,[{key:"darkClass",get:function(){return this.breadCrumb.dark?"bread-crumb-item__dark":""}},{key:"separator",get:function(){return this.breadCrumb.separator}},{key:"handleClick",value:function(){this.$emit("click")}}]),n}(v.f);m([Object(v.b)()],b.prototype,"breadCrumb",void 0);var g=b=m([v.a],b),_=(n(414),n(9)),k=Object(_.a)(g,(function(){var t=this.$createElement,e=this._self._c||t;return e("li",{class:["bread-crumb-item",this.darkClass]},[e("a",{staticClass:"bread-crumb-item__link",on:{click:this.handleClick}},[this._t("default")],2),this._v(" "),e("i",{staticClass:"bread-crumb-item__separator"},[this._v(this._s(this.separator))])])}),[],!1,null,null,null);e.a=k.exports},382:function(t,e,n){"use strict";var r=n(12),o=n.n(r),i=n(5),a=n.n(i),c=n(10),s=n.n(c),l=n(7),u=n.n(l),f=n(8),d=n.n(f),p=n(3),h=n.n(p),v=n(6),y=n.n(v),m=n(0);function b(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h()(t);if(e){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d()(this,n)}}var g=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"==typeof Reflect?"undefined":y()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},_=function(t){u()(n,t);var e=b(n);function n(){return a()(this,n),e.apply(this,arguments)}return s()(n,[{key:"handleChange",value:function(){this.$emit("change",this.value)}}]),n}(m.f);g([Object(m.d)({type:Boolean,default:!1})],_.prototype,"checked",void 0),g([Object(m.d)({type:[String,Number,Boolean],default:""})],_.prototype,"value",void 0),g([Object(m.d)({type:String,default:""})],_.prototype,"label",void 0),g([Object(m.d)({type:Boolean,default:!1})],_.prototype,"disabled",void 0);var k=_=g([Object(m.a)({name:"BstarRadio"})],_),O=(n(403),n(9)),j=Object(O.a)(k,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("label",{class:["bstar-radio",{"is-disabled":t.disabled,"is-checked":t.checked}],attrs:{role:"radio","aria-checked":t.checked,"aria-disabled":t.disabled}},[n("span",{staticClass:"bstar-radio__input",class:{"is-disabled":t.disabled,"is-checked":t.checked}},[n("span",{staticClass:"bstar-radio__inner"}),t._v(" "),n("input",{staticClass:"bstar-radio__original",attrs:{type:"radio","aria-hidden":"true",name:t.label,disabled:t.disabled,tabindex:"-1"},domProps:{value:t.value,checked:t.checked},on:{change:t.handleChange}})]),t._v(" "),n("span",{staticClass:"bstar-radio__label"},[t._v(t._s(t.label))])])}),[],!1,null,"2a4a40c8",null).exports;function w(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function C(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?w(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function R(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h()(t);if(e){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d()(this,n)}}var x=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"==typeof Reflect?"undefined":y()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},P=function(t){u()(n,t);var e=R(n);function n(){return a()(this,n),e.apply(this,arguments)}return s()(n,[{key:"formatOptions",get:function(){var t=this;return this.options.map((function(e){return C(C({},e),{},{disabled:e.disabled||t.disabled,checked:e.value===t.value})}))}},{key:"handleChange",value:function(t){this.$emit("input",t),this.$emit("change",t)}}]),n}(m.f);x([Object(m.d)({type:[String,Number,Boolean],default:""})],P.prototype,"value",void 0),x([Object(m.d)({type:Boolean,default:!1})],P.prototype,"disabled",void 0),x([Object(m.d)({type:Array,required:!0,default:function(){return[]}})],P.prototype,"options",void 0);var D=P=x([Object(m.a)({components:{Item:j}})],P),S=Object(O.a)(D,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bstar-radio-group",attrs:{role:"radiogroup"}},t._l(t.formatOptions,(function(e){return n("item",{key:e.value,attrs:{label:e.label,value:e.value,disabled:e.disabled,checked:e.checked},on:{change:function(n){return t.handleChange(e.value)}}})})),1)}),[],!1,null,null,null);e.a=S.exports},384:function(t,e,n){"use strict";var r=n(12),o=n.n(r),i=n(5),a=n.n(i),c=n(10),s=n.n(c),l=n(7),u=n.n(l),f=n(8),d=n.n(f),p=n(3),h=n.n(p),v=n(6),y=n.n(v),m=n(0);function b(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function g(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?b(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function _(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h()(t);if(e){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d()(this,n)}}var k=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"==typeof Reflect?"undefined":y()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},O=function(t){u()(n,t);var e=_(n);function n(){return a()(this,n),e.apply(this,arguments)}return s()(n,[{key:"list",get:function(){var t=this;return this.styles.map((function(e){return g(g({},e),{},{link:"/".concat(t.$store.state.sLocale,"/index?style_id=").concat(e.id)})}))}},{key:"openStyleUrl",value:function(t){this.$emit("click",t)}}]),n}(m.f);k([Object(m.d)({type:Array,default:[],required:!0})],O.prototype,"styles",void 0);var j=O=k([m.a],O),w=(n(393),n(9)),C=Object(w.a)(j,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"video-tag"},t._l(t.list,(function(e){return n("a",{key:e.id,staticClass:"video-tag__cell",attrs:{href:e.link,target:"_blank"},on:{click:function(n){return t.openStyleUrl(e)}}},[t._v("\n    "+t._s(e.title)+"\n  ")])})),0)}),[],!1,null,null,null);e.a=C.exports},385:function(t,e,n){"use strict";var r=n(12),o=n.n(r),i=n(5),a=n.n(i),c=n(10),s=n.n(c),l=n(171),u=n.n(l),f=n(7),d=n.n(f),p=n(8),h=n.n(p),v=n(3),y=n.n(v),m=n(6),b=n.n(m),g=n(0);function _(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function k(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function O(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=y()(t);if(e){var o=y()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var j=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"==typeof Reflect?"undefined":b()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},w=function(t){d()(n,t);var e=O(n);function n(){var t;return a()(this,n),(t=e.apply(this,arguments)).BstarForm=u()(t),t}return s()(n,[{key:"invalidMap",get:function(){return this.invalid.reduce((function(t,e){return k(k({},t),{},o()({},e.field,e))}),{})}}]),n}(g.f);j([Object(g.d)({type:Array,default:function(){return[]}})],w.prototype,"invalid",void 0),j([Object(g.e)("BstarForm")],w.prototype,"BstarForm",void 0);var C=w=j([g.a],w),R=(n(405),n(9)),x=Object(R.a)(C,(function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"bstar-form"},[this._t("default")],2)}),[],!1,null,null,null);e.a=x.exports},386:function(t,e,n){"use strict";var r=n(5),o=n.n(r),i=n(10),a=n.n(i),c=n(7),s=n.n(c),l=n(8),u=n.n(l),f=n(3),d=n.n(f),p=n(6),h=n.n(p),v=n(0);function y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d()(t);if(e){var o=d()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u()(this,n)}}var m,b=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"==typeof Reflect?"undefined":h()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};!function(t){t[t.unChecked=0]="unChecked",t[t.success=1]="success",t[t.error=2]="error"}(m||(m={}));var g=function(t){s()(n,t);var e=y(n);function n(){return o()(this,n),e.apply(this,arguments)}return a()(n,[{key:"isInValid",get:function(){return this.validateState===m.error}},{key:"invalid",get:function(){return this.BstarForm.invalidMap[this.prop]}},{key:"validateState",get:function(){return this.invalid?this.invalid.field!==this.prop?m.unChecked:m.error:m.success}},{key:"validateMessage",get:function(){return this.invalid?this.invalid.field!==this.prop?"":this.invalid.message:""}}]),n}(v.f);b([Object(v.d)(String)],g.prototype,"label",void 0),b([Object(v.d)(String)],g.prototype,"prop",void 0),b([Object(v.d)({type:Boolean,default:!1})],g.prototype,"required",void 0),b([Object(v.b)()],g.prototype,"BstarForm",void 0);var _=g=b([v.a],g),k=(n(406),n(9)),O=Object(k.a)(_,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"bstarFormItem",class:["bstar-form-item",{"is-required":t.required,"is-error":t.isInValid}]},[n("label",{staticClass:"bstar-form-item__label"},[t._v("\n    "+t._s(t.label)+"\n  ")]),t._v(" "),n("div",{staticClass:"bstar-form-item__content"},[t._t("default"),t._v(" "),t.isInValid?[t._t("errorMsg",(function(){return[n("span",{staticClass:"bstar-form-item__error-msg"},[t._v("\n          "+t._s(t.validateMessage)+"\n        ")])]}))]:t._e()],2)])}),[],!1,null,null,null);e.a=O.exports},389:function(t,e,n){"use strict";n.d(e,"d",(function(){return r})),n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return R})),n.d(e,"a",(function(){return x})),n.d(e,"f",(function(){return P})),n.d(e,"g",(function(){return D})),n.d(e,"e",(function(){return S}));var r,o,i=n(12),a=n.n(i),c=n(5),s=n.n(c),l=n(10),u=n.n(l),f=n(13),d=n(33),p=n(81),h=n.n(p),v=n(424),y=n.n(v),m=n(425),b=n.n(m),g=n(58),_=n.n(g),k=n(24);function O(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function j(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?O(Object(n),!0).forEach((function(e){a()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}h.a.extend(y.a),h.a.extend(b.a),function(t){t[t.UGC=3]="UGC",t[t.OGV=4]="OGV"}(r||(r={})),function(t){t[t.unknown=0]="unknown",t[t.speed=1]="speed",t[t.clear=2]="clear",t[t.lowHD=3]="lowHD",t[t.highHD=4]="highHD",t[t.hd=5]="hd"}(o||(o={}));var w,C,R={0:o.unknown,6:o.speed,15:o.speed,16:o.speed,29:o.speed,32:o.clear,48:o.lowHD,64:o.lowHD,74:o.lowHD,80:o.highHD,112:o.hd,116:o.hd};!function(t){t[t.online=1]="online",t[t.offline=2]="offline",t[t.freeService=3]="freeService",t[t.other=-1]="other"}(w||(w={})),function(t){t[t.ordinary=0]="ordinary",t[t.vip=1]="vip"}(C||(C={}));var x=function(){function t(e){s()(this,t),this.listenOnce=!1,this.countdown={totalUsage:null},this.timeChangeCount=0,this.player=e,this.total_time=0,this.paused_time=0,this.played_time=0,this.current_progress=0}return u()(t,[{key:"destroy",value:function(){this._clearIntervalAll()}},{key:"listen",value:function(){this.bindPlay(),this.bindChange(),this.bindSeek(),this.bindEnd(),this.bindError()}},{key:"bindPlay",value:function(){var t=this;this.player.on("video_media_play",(function(){t.listenOnce||(t.listenOnce=!0,t._interval("totalUsage",(function(){t.total_time+=.25,t.paused_time=t.total_time-t.played_time})))}))}},{key:"bindSeek",value:function(){var t=this;this.player.on("video_media_seek",(function(){t.current_progress=Number((Number(new Date)/1e3).toFixed(0))}))}},{key:"bindChange",value:function(){var t=this;this.player.on("video_media_time",(function(){t.played_time=Number((t.played_time+.22).toFixed(2))}))}},{key:"bindEnd",value:function(){var t=this;this.player.on("video_media_ended",(function(){t._clearIntervalAll()}))}},{key:"bindError",value:function(){var t=this;this.player.on("video_media_error",(function(){t._clearIntervalAll()}))}},{key:"getComputedPlayerStatus",value:function(){var t,e,n=Number(((null===(t=this.player)||void 0===t?void 0:t.getCurrentTime())||0).toFixed(0));return{total_time:Number(this.total_time.toFixed(0)),paused_time:Number(this.paused_time.toFixed(0)),played_time:Number(this.played_time.toFixed(0)),current_progress:n,last_play_progress_time:n,max_play_progress_time:n,video_duration:Number(((null===(e=this.player)||void 0===e?void 0:e.getDuration())||0).toFixed(0))}}},{key:"_interval",value:function(t,e){this.countdown[t]=setInterval(e,250)}},{key:"_clearInterval",value:function(t){clearInterval(this.countdown[t])}},{key:"_clearIntervalAll",value:function(){var t=this;Object.keys(this.countdown).forEach((function(e){return t._clearInterval(e)}))}}]),t}();function P(){return j({},{mobi_app:"bstar_w",detail_play_time:0,list_play_time:0,sub_type:0,play_type:0,plat:0,cookie_sid:0,session:0})}function D(t){return{buvid:Object(f.j)(window.document.cookie,"buvid3")||Object(d.a)(),user_status:t?C.vip:C.ordinary}}function S(t,e){var n="boolean"==typeof navigator.onLine?navigator.onLine?w.online:w.offline:w.other,r=document.querySelectorAll('meta[name="spm_prefix"]'),o="";r.forEach((function(t){/333\./.test(t.content)&&(o=t.content)}));var i=new _.a(window.location.href,!0).query;return{spmid:k.b[o]||o,from_spmid:i[k.a]||"",s_locale:t,lang:e,network_type:n,timezone:h.a.tz.guess()}}},390:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return r}));var r,o=n(13),i="Initial";!function(t){t.Ogv="ogv",t.Ugc="ugc"}(r||(r={}));var a={changeSubtitle:function(t){Object(o.a)("player_cc_switch_click",t)},exposeSubtitle:function(t){Object(o.a)("cc_click",t)},changeQuality:function(t){Object(o.a)("player_quality_switch_click",t)},clickNextEp:function(){Object(o.a)("player_next_episode_click")},changeSpeed:function(t){Object(o.a)("player_speed_switch_click",t)}};e.c=a},393:function(t,e,n){"use strict";n(357)},394:function(t,e,n){"use strict";n(359)},395:function(t,e,n){"use strict";n(360)},396:function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTZweCIgaGVpZ2h0PSIxNnB4IiB2aWV3Qm94PSIwIDAgMTYgMTYiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+aWNvbl9kZXRhaWw8L3RpdGxlPgogICAgPGcgaWQ9Imljb25fZGV0YWlsIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8cmVjdCBpZD0i55+p5b2iIiBmaWxsPSIjRDhEOEQ4IiBvcGFjaXR5PSIwIiB4PSIwIiB5PSIwIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiPjwvcmVjdD4KICAgICAgICA8cGF0aCBkPSJNOC40LDQuNTMzMzMzMzMgTDEzLjQsMTEuMiBDMTMuNTY1Njg1NCwxMS40MjA5MTM5IDEzLjUyMDkxMzksMTEuNzM0MzE0NiAxMy4zLDExLjkgQzEzLjIxMzQ1MTksMTEuOTY0OTExMSAxMy4xMDgxODUxLDEyIDEzLDEyIEwzLDEyIEMyLjcyMzg1NzYzLDEyIDIuNSwxMS43NzYxNDI0IDIuNSwxMS41IEMyLjUsMTEuMzkxODE0OSAyLjUzNTA4ODk0LDExLjI4NjU0ODEgMi42LDExLjIgTDcuNiw0LjUzMzMzMzMzIEM3Ljc2NTY4NTQyLDQuMzEyNDE5NDMgOC4wNzkwODYxLDQuMjY3NjQ3OTEgOC4zLDQuNDMzMzMzMzMgQzguMzM3OTAyODMsNC40NjE3NjA0NiA4LjM3MTU3Mjg4LDQuNDk1NDMwNSA4LjQsNC41MzMzMzMzMyBaIiBpZD0iZGV0YWlsLeWxleW8gCIgZmlsbD0iI0ZGRkZGRiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoOC4wMDAwMDAsIDguMDAwMDAwKSBzY2FsZSgxLCAtMSkgdHJhbnNsYXRlKC04LjAwMDAwMCwgLTguMDAwMDAwKSAiPjwvcGF0aD4KICAgIDwvZz4KPC9zdmc+"},397:function(t,e,n){t.exports=n.p+"assets/btn_detail.svg"},398:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAYAAAAehFoBAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAALKADAAQAAAABAAAALAAAAAD8buejAAADNUlEQVRYCe1XMWgUURCduYuxs4mFoKKVFlZC6oAWAUUIFt4FI+YOVGwEKyuRQ6xSCTaiwl2CkdxZSEAUUhhILaSy0EpRwUKb69TLjm/+/5vbu2T3/j8lYNiB2/93/8z772bnz8wS5ZJ7IPdA7oHcA7kHdrMH+F/8OalOH6YNmQLWGSI5hvGAw/1GxB8wf01FXub60mf3fOjhrwjLlZlD9Ov3HexexW9kAIsO1us0uucuP1n8MkA3dXlowlItn6MNWoRH93XR+TuxrMOrn0ikgPEg1sexPpbQaVORZrjefNl95j8birBUyjdI6L4lhc2Y14gL9+js+TdcKm0kt5darUAf30+SRLegf8qsMUfEdJMbzQdJXZ95MGHj2YiWDVmmnyB6nRtLDZ/NZLZch13F6CrpAk2FejqIsI3ZzjsTBkqWaJLnW2teZCvlCxTJM+gmYp3bNDpyIiSmEWcBYg6Yi1n17HBkOwihht0VWPbQepPwJmxSl80GJma9w6DXsx0q8EWeb1ZBetWxrDpsL9LehF2eta9TD5iH4HAmw8CSbTSfG1MuzDmIEYftgUgIe39BUVBB6kI2sPP0ayZZNTt6fAXXHw7BYbu7jCGAsKlg4Cvr/amrH38gWRhwrRbh+tbaOux+oG3uAwjH5RZFIUN8yHbN5aubx6W8u5QyCyFsIUwF2x4tjCwwNBcHSghhNDIqWm63SjBZAyFHHJLD3orb/ySAsOm6YC/jptwmkIYhK61WkYRPWpgYOwGaMg0gjBbRypjpDdzNMGSN6asXp/Hn9zuYGNvdpg/+hNHPAkZbROyDRkaHrDyrClki0W233NFeOUs1uRbWS1wuPYLxVQOg5VXkEuZaTHqLglFIv0hlukJRVHcaj3mhdS1du3fF38Nqh+Ybh65tIGzXFU52tjSBN/TQ0tDmRzH9JYiw6arQfPekI+an6GttuR2wr/Es0Qp66b0GQxv5wK+PoJCI+SB2+xv4VfTFc1pubQWLNRHnmg30gGnMikyYlZ1s4GMq238iaW+g5RYVzBQF5FmTujazAcwRBjv9ibRJ+n/6CI1J67iTn/nJffN57oHcA7kHcg/kHth9HvgDyPFaQJu5kMIAAAAASUVORK5CYII="},399:function(t,e,n){"use strict";n(361)},400:function(t,e,n){"use strict";n(363)},401:function(t,e,n){t.exports=n.p+"assets/feedback_success.png"},402:function(t,e,n){"use strict";n(364)},403:function(t,e,n){"use strict";n(365)},404:function(t,e,n){"use strict";n(366)},405:function(t,e,n){"use strict";n(367)},406:function(t,e,n){"use strict";n(368)},407:function(t,e,n){"use strict";n(369)},408:function(t,e,n){"use strict";n(370)},409:function(t,e,n){"use strict";n(371)},410:function(t,e,n){"use strict";n(372)},411:function(t,e,n){"use strict";n(373)},412:function(t,e,n){"use strict";n(374)},413:function(t,e,n){"use strict";n(375)},414:function(t,e,n){"use strict";n(376)},415:function(t,e,n){"use strict";n(377)},417:function(t,e,n){"use strict";var r,o=n(12),i=n.n(o),a=n(5),c=n.n(a),s=n(10),l=n.n(s),u=n(7),f=n.n(u),d=n(8),p=n.n(d),h=n(3),v=n.n(h),y=n(6),m=n.n(y),b=n(0),g=n(4),_=n.n(g),k=n(1),O=n.n(k),j=n(36),w=n(13),C=n(21),R=n.n(C);!function(t){t.Avatar="sender_icon",t.SenderNickname="sender_nickname",t.ReplyerNickname="replyer_nickname"}(r||(r={}));var x={click:function(t){Object(w.a)("reply_module_click",{pos:t})}};function P(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function D(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?P(Object(n),!0).forEach((function(e){i()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function S(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=v()(t);if(e){var o=v()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}var I,B=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"==typeof Reflect?"undefined":m()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};!function(t){t.PlainText="plainText",t.Link="link"}(I||(I={}));var L=function(t){f()(n,t);var e=S(n);function n(){var t;return c()(this,n),(t=e.apply(this,arguments)).RichTextType=I,t.list={},t}return l()(n,[{key:"richTextArr",get:function(){var t=this.content,e=t.message,n=t.members;if(!n||0===n.length)return this.renderRichText();var r=this.sortByName(n),o=this.genMembersMap(n);return this.renderRichText(r.reduce((function(t,n){var r=new RegExp("@"+n.name,"g");return[].concat(R()(t),R()(e.matchAll(r)))}),[]).reduce((function(t,e){return D(D({},t),t[e.index]?{}:i()({},e.index,o[e[0]]))}),{}))}},{key:"genMembersMap",value:function(t){return t.reduce((function(t,e){return D(D({},t),{},i()({},"@".concat(e.name),e))}),{})}},{key:"renderRichText",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Object.keys(e),r=this.content.message;return 0===n.length?[this.genPlainText(r)]:this.sort(n).reduce((function(o,i,a,c){var s=Number(i),l=0===a?0:Number(c[a-1])+t.getMemberLen(e[c[a-1]]),u=t.genPlainText(r.slice(l,s)),f=e[s],d=t.genUserLink(f);if(a===n.length-1){var p=t.genPlainText(r.slice(s+t.getMemberLen(f),r.length));return[].concat(R()(o),[u,d,p])}return[].concat(R()(o),[u,d])}),[])}},{key:"getMemberLen",value:function(t){return t.name.length+1}},{key:"sortByName",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.content.members;return t&&0!==t.length?t.sort((function(t,e){return e.name.length-t.name.length})):[]}},{key:"sort",value:function(t){return t.sort((function(t,e){return t-e}))}},{key:"genPlainText",value:function(t){return{type:I.PlainText,text:t}}},{key:"genUserLink",value:function(t){return{type:I.Link,text:"@"+t.name,to:{name:"space",params:{mid:t.mid}}}}},{key:"handleClickReplyUser",value:function(){x.click(r.ReplyerNickname)}}]),n}(b.f);B([Object(b.d)(Object)],L.prototype,"content",void 0);var A,T,$=L=B([b.a],L),E=(n(408),n(9)),F=Object(E.a)($,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._l(t.richTextArr,(function(e,r){return[e.type===t.RichTextType.PlainText?n("span",{key:r,staticClass:"content-text"},[t._v(t._s(e.text))]):t._e(),t._v(" "),e.type===t.RichTextType.Link?n("router-link",{key:r,staticClass:"content-mention",attrs:{to:e.to,target:"_blank"},nativeOn:{click:function(e){return t.handleClickReplyUser.apply(null,arguments)}}},[t._v("\n      "+t._s(e.text)+"\n    ")]):t._e()]}))],2)}),[],!1,null,"11b5557c",null).exports,M=n(76),N=n(16),U=n(24),z=n(43);function H(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=v()(t);if(e){var o=v()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}var V=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"==typeof Reflect?"undefined":m()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},q=Object(N.c)("comment"),G=(A={},i()(A,j.b.Liked,j.a.Unlike),i()(A,j.b.Unliked,j.a.Like),A),W=(T={},i()(T,j.a.Like,j.b.Liked),i()(T,j.a.Unlike,j.b.Unliked),T),Y=function(t){f()(o,t);var e,n=H(o);function o(){var t;return c()(this,o),(t=n.apply(this,arguments)).needFold=!1,t.isFold=!0,t.scrollTop=0,t}return l()(o,[{key:"updateRoute",value:function(){this.init()}},{key:"updateSort",value:function(){this.init()}},{key:"styleVar",get:function(){return{"--height":this.isFold?"".concat(180,"px"):"2000px"}}},{key:"foldBtnText",get:function(){return this.isFold?this.$t("video.tab.unfold"):this.$t("video.tab.fold")}},{key:"avatar",get:function(){return Object(w.l)(this.comment.member.face,80,80)}},{key:"senderLink",get:function(){return{name:"space",params:{mid:this.comment.member.mid}}}},{key:"isCreator",get:function(){return this.comment.member.type===j.d.Creator}},{key:"isTop",get:function(){return this.comment.is_top===j.g.Top}},{key:"isCreatorLiked",get:function(){return""!==this.comment.uploader_like_text}},{key:"isCurrentUserLiked",get:function(){return this.comment.like_state===j.b.Liked}},{key:"mounted",value:function(){this.init()}},{key:"init",value:function(){this.isFold=!0,this.needFold=this.isNeedFold()}},{key:"isNeedFold",value:function(){var t,e=this.$refs.commentContent,n=null!==(t=null==e?void 0:e.$el)&&void 0!==t?t:null;return!(!this.$refs.commentContent||!n)&&n.offsetHeight>180}},{key:"toggleFoldState",value:function(){this.isFold=!this.isFold,this.isFold?document.documentElement.scrollTo({top:this.scrollTop,left:0,behavior:"smooth"}):this.scrollTop=document.documentElement.scrollTop||document.body.scrollTop}},{key:"handleClickLike",value:function(){var t,e,n;if(this.userInfo.isLogin){var r=this.comment,o=r.rpid,i=r.like_count,a=r.like_state,c={rpid:o,action:G[a],spm_id:null!==(t=null===(e=this.$route)||void 0===e||null===(n=e.query)||void 0===n?void 0:n[U.a])&&void 0!==t?t:""};this.likeAction(c),this.comment.like_state=W[c.action],this.comment.like_count=this.calcLikeCount(c.action,i)}else this.$loginBox.showComponent({callbackUrl:window.location.href,from:z.b.Like})}},{key:"likeAction",value:(e=_()(O.a.mark((function t(e){var n,r,o;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(M.a)(e,this.sLocale);case 3:o=t.sent,this.comment.uploader_like_text=null!==(n=null===(r=o.data)||void 0===r?void 0:r.uploader_like_text)&&void 0!==n?n:this.comment.uploader_like_text,t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,this,[[0,7]])}))),function(t){return e.apply(this,arguments)})},{key:"calcLikeCount",value:function(t,e){var n=Number(e);if(!Number.isInteger(n))return e;var r=t===j.a.Like?n+1:n-1;return 0===r?"":r}},{key:"handleClickAvatar",value:function(){x.click(r.Avatar)}},{key:"handleClickSenderName",value:function(){x.click(r.SenderNickname)}}]),o}(b.f);V([Object(N.b)("userInfo")],Y.prototype,"userInfo",void 0),V([Object(N.b)("sLocale")],Y.prototype,"sLocale",void 0),V([q.State("activeSortTab")],Y.prototype,"activeSortTab",void 0),V([Object(b.d)(Object)],Y.prototype,"comment",void 0),V([Object(b.d)({type:Boolean,default:!0})],Y.prototype,"root",void 0),V([Object(b.g)("$route.name")],Y.prototype,"updateRoute",null),V([Object(b.g)("activeSortTab")],Y.prototype,"updateSort",null);var Q=Y=V([Object(b.a)({components:{BstarContent:F}})],Y),Z=(n(409),Object(E.a)(Q,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:["bstar-comment-item",{root:t.root}]},[n("router-link",{staticClass:"bstar-comment-item__avatar",attrs:{to:t.senderLink,target:"_blank"},nativeOn:{click:function(e){return t.handleClickAvatar.apply(null,arguments)}}},[n("img",{attrs:{src:t.avatar,alt:"avatar"}})]),t._v(" "),n("div",{staticClass:"bstar-comment-item__container"},[n("div",{staticClass:"bstar-comment-item__user"},[n("router-link",{staticClass:"bstar-comment-item__name",attrs:{to:t.senderLink,target:"_blank"},nativeOn:{click:function(e){return t.handleClickSenderName.apply(null,arguments)}}},[n("h5",[t._v("\n          "+t._s(t.comment.member.name)+"\n        ")])]),t._v(" "),t.isCreator?n("span",{staticClass:"bstar-comment-item__tag creator"},[t._v(t._s(t.comment.member.type_text))]):t._e()],1),t._v(" "),n("span",{staticClass:"bstar-comment-item__time"},[t._v("\n      "+t._s(t.comment.ctime_text)+"\n    ")]),t._v(" "),n("div",{staticClass:"bstar-comment-item__content",style:t.styleVar},[n("div",{staticClass:"bstar-comment-item__content__msg"},[t.isTop?n("span",{staticClass:"bstar-comment-item__tag top"},[t._v(t._s(t.comment.is_top_text))]):t._e(),t._v(" "),n("bstar-content",{ref:"commentContent",staticClass:"bstar-comment-item__content-content",attrs:{content:t.comment.content}})],1),t._v(" "),t.needFold?n("span",{class:["bstar-comment-item__content__fold-btn",{fold:!t.isFold}],on:{click:t.toggleFoldState}},[t._v("\n        "+t._s(t.foldBtnText)+"\n      ")]):t._e()]),t._v(" "),n("div",{staticClass:"bstar-comment-item__like"},[n("div",{class:["bstar-comment-item__like-count",{active:t.isCurrentUserLiked}]},[n("i",{class:["icon-like",{active:t.isCurrentUserLiked}],on:{click:t.handleClickLike}}),t._v(" "),n("span",[t._v(t._s(t.comment.like_count))])]),t._v(" "),t.isCreatorLiked?n("span",{staticClass:"bstar-comment-item__tag creator-like"},[t._v(t._s(t.comment.uploader_like_text))]):t._e()])])],1)}),[],!1,null,"23031950",null).exports),K=n(331),J=n(74),X=n(345);function tt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=v()(t);if(e){var o=v()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}var et=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"==typeof Reflect?"undefined":m()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},nt=function(t){f()(r,t);var e,n=tt(r);function r(){var t;return c()(this,r),(t=n.apply(this,arguments)).list=[],t.isEnd=!1,t.loading=!1,t}return l()(r,[{key:"updateRoute",value:function(){this.list=[],this.isEnd=!1}},{key:"commentList",get:function(){return[].concat(R()(this.comment.replies),R()(this.list))}},{key:"hasMore",get:function(){return this.comment.count>3}},{key:"next",get:function(){return this.list.length>0?this.getLastCommentId(this.list):this.getLastCommentId(this.comment.replies)}},{key:"getLastCommentId",value:function(t){return 0===t.length?"":t[t.length-1].rpid}},{key:"fetchCommentList",value:(e=_()(O.a.mark((function t(){var e,n,r,o,i,a,c;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading=!0,e=this.comment.rpid,n={root:e,next:this.next,ps:10},t.prev=3,t.next=6,Object(M.b)(n,this.sLocale);case 6:c=t.sent,(r=this.list).push.apply(r,R()(null!==(o=null===(i=c.data)||void 0===i?void 0:i.replies)&&void 0!==o?o:[])),this.isEnd=null===(a=c.data)||void 0===a?void 0:a.cursor.is_end,t.next=13;break;case 11:t.prev=11,t.t0=t.catch(3);case 13:return t.prev=13,this.loading=!1,t.finish(13);case 16:case"end":return t.stop()}}),t,this,[[3,11,13,16]])}))),function(){return e.apply(this,arguments)})}]),r}(b.f);et([Object(N.b)("sLocale")],nt.prototype,"sLocale",void 0),et([Object(b.d)(Object)],nt.prototype,"comment",void 0),et([Object(b.g)("$route.name")],nt.prototype,"updateRoute",null);var rt=nt=et([Object(b.a)({components:{Loading:J.a,BstarComment:Z}})],nt),ot=(n(410),Object(E.a)(rt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.comment.replies&&t.comment.replies.length>0?n("ul",{staticClass:"bstar-children-comment-list"},[t._l(t.commentList,(function(t){return n("li",{key:t.rpid},[n("bstar-comment",{attrs:{comment:t,root:!1}})],1)})),t._v(" "),n("loading",{attrs:{"is-loading":t.loading,dark:!0}}),t._v(" "),t.hasMore&&!t.isEnd?n("p",{staticClass:"bstar-children-comment-list__more",on:{click:t.fetchCommentList}},[t._v("\n    "+t._s(t.$t("video.tab.moreReplies"))+"\n  ")]):t._e()],2):t._e()}),[],!1,null,"56ef8c54",null).exports);function it(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function at(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?it(Object(n),!0).forEach((function(e){i()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):it(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ct(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=v()(t);if(e){var o=v()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}var st=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"==typeof Reflect?"undefined":m()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},lt=Object(N.c)("comment"),ut=function(t){f()(n,t);var e=ct(n);function n(){return c()(this,n),e.apply(this,arguments)}return l()(n,[{key:"tips",get:function(){return""!==this.errorMsg?this.errorMsg:0===this.list.length?this.$t("video.tab.noResult"):this.hasMore?void 0:this.$t("video.tab.noMoreComments")}},{key:"loadingFirst",get:function(){return this.loading&&0===this.rootParams.pn}},{key:"mounted",value:function(){this.fallback&&this.fetch()}},{key:"fetch",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.$store.commit("comment/setRootParams",at({pn:0,oid:this.oid,type:this.type,sort_type:j.e.Hot},t)),this.$store.dispatch("comment/getRootComment")}},{key:"updateOid",value:function(t){this.fetch({pn:0,oid:t,type:this.type,sort_type:j.e.Hot})}},{key:"updateType",value:function(t){this.fetch({pn:0,oid:this.oid,type:t,sort_type:j.e.Hot})}},{key:"loadMore",value:function(){var t=this.rootParams.pn;this.$store.commit("comment/setRootParams",{pn:t+1}),this.$store.dispatch("comment/getRootComment")}},{key:"handleSortChange",value:function(t){var e=t.value;this.$store.commit("comment/setActiveSortTab",e),this.$store.commit("comment/setRootParams",{pn:0,sort_type:e}),this.$store.dispatch("comment/getRootComment")}}]),n}(b.f);st([Object(b.d)([String,Number])],ut.prototype,"oid",void 0),st([Object(b.d)({type:Number,required:!0})],ut.prototype,"type",void 0),st([lt.State("rootParams")],ut.prototype,"rootParams",void 0),st([lt.State("commentList")],ut.prototype,"list",void 0),st([lt.State("tabs")],ut.prototype,"tabs",void 0),st([lt.State("activeSortTab")],ut.prototype,"active",void 0),st([lt.State("loading")],ut.prototype,"loading",void 0),st([lt.State("hasMore")],ut.prototype,"hasMore",void 0),st([lt.State("errorMsg")],ut.prototype,"errorMsg",void 0),st([Object(N.b)("fallback")],ut.prototype,"fallback",void 0),st([Object(b.g)("oid")],ut.prototype,"updateOid",null),st([Object(b.g)("type")],ut.prototype,"updateType",null);var ft=ut=st([Object(b.a)({components:{BstarComment:Z,BstarTab:K.a,Loading:J.a,ScrollLoading:X.a,ChildrenCommentList:ot}})],ut),dt=(n(411),Object(E.a)(ft,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bstar-comment-list"},[t.list.length>0?n("bstar-tab",{staticClass:"bstar-comment-list__tab",attrs:{"bar-center":!1,items:t.tabs,"default-active":t.active,"has-bar":!1,gap:16},on:{change:t.handleSortChange}}):t._e(),t._v(" "),t.loadingFirst?n("div",{staticClass:"bstar-comment-list__first-loading"},[n("i",{staticClass:"icon-loading"})]):t._e(),t._v(" "),t.list.length>0?[n("ul",{staticClass:"bstar-comment-list__wrap"},t._l(t.list,(function(e){return n("li",{key:e.rpid},[n("bstar-comment",{attrs:{comment:e}}),t._v(" "),n("children-comment-list",{attrs:{comment:e}})],1)})),0),t._v(" "),n("scroll-loading",{attrs:{loading:t.loading,"has-more":t.hasMore,"show-no-more":!1,dark:""},on:{"reach-bottom":t.loadMore}})]:t._e(),t._v(" "),t.loading?t._e():[n("p",{staticClass:"bstar-comment-list__tips"},[t._v("\n      "+t._s(t.tips)+"\n    ")])]],2)}),[],!1,null,null,null));e.a=dt.exports},418:function(t,e,n){"use strict";var r=n(5),o=n.n(r),i=n(10),a=n.n(i),c=n(7),s=n.n(c),l=n(8),u=n.n(l),f=n(3),d=n.n(f),p=n(6),h=n.n(p),v=n(0),y=n(343),m=n(16),b=n(384),g=n(4),_=n.n(g),k=n(1),O=n.n(k),j=n(22),w=n(347),C=n(43);function R(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d()(t);if(e){var o=d()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u()(this,n)}}var x=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"==typeof Reflect?"undefined":h()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},P=function(t){s()(c,t);var e,n,r,i=R(c);function c(){var t;return o()(this,c),(t=i.apply(this,arguments)).confirmVisible=!1,t}return a()(c,[{key:"followText",get:function(){return this.followed?this.$t("space.unfollowSuccessText"):this.$t("space.followingBtn")}},{key:"handleClickFollow",value:(r=_()(O.a.mark((function t(){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.userInfo.isLogin){t.next=3;break}return this.$loginBox.showComponent({callbackUrl:window.location.href,from:C.b.Follow}),t.abrupt("return");case 3:if(!this.followed){t.next=6;break}return this.confirmVisible=!0,t.abrupt("return");case 6:return t.next=8,this.requestFollow(this.mid,!this.followed);case 8:this.$emit("change",!this.followed);case 9:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"requestFollow",value:(n=_()(O.a.mark((function t(e,n){var r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n?1:2,t.next=3,Object(j.b)({spmid:"",fid:e,source:"21",action:r,from_spmid:this.sourceFrom,h5_url:window.location.href});case 3:t.sent.code;case 5:case"end":return t.stop()}}),t,this)}))),function(t,e){return n.apply(this,arguments)})},{key:"handleCancel",value:function(){this.confirmVisible=!1}},{key:"handleConfirm",value:(e=_()(O.a.mark((function t(){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.requestFollow(this.mid,!this.followed);case 2:this.confirmVisible=!1,this.$emit("change",!this.followed);case 4:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})}]),c}(v.f);x([Object(m.b)("userInfo")],P.prototype,"userInfo",void 0),x([Object(v.d)({type:String,default:"",required:!0})],P.prototype,"mid",void 0),x([Object(v.d)({type:Boolean,default:!1,required:!0})],P.prototype,"followed",void 0),x([Object(v.d)({type:String,default:"h5"})],P.prototype,"sourceFrom",void 0);var D=P=x([Object(v.a)({components:{ConfirmModal:w.a}})],P),S=(n(394),n(9)),I=Object(S.a)(D,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"follow-button"},[t._t("default",(function(){return[n("button",{class:{"follow-button__btn":!0,followed:t.followed},on:{click:t.handleClickFollow}},[t._v("\n      "+t._s(t.followText)+"\n    ")])]})),t._v(" "),n("ConfirmModal",{attrs:{desc:t.$t("space.unfollowConfirmText"),"confirm-text":t.$t("space.confirmBtn"),"cancel-text":t.$t("space.cancelBtn"),visible:t.confirmVisible},on:{cancel:t.handleCancel,confirm:t.handleConfirm}})],2)}),[],!1,null,null,null).exports;function B(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d()(t);if(e){var o=d()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u()(this,n)}}var L=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"==typeof Reflect?"undefined":h()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},A=function(t){s()(n,t);var e=B(n);function n(){return o()(this,n),e.apply(this,arguments)}return a()(n,[{key:"updateFollowed",value:function(){var t=this.$refs.collapseItem;t.style.height="",t.style.transition="none";var e=window.getComputedStyle(t).height;t.classList.toggle("collapsed");var n=window.getComputedStyle(t).height;t.style.height=e,requestAnimationFrame((function(){t.style.transition="",requestAnimationFrame((function(){t.style.height=n}))}))}}]),n}(v.f);L([Object(v.d)({type:Boolean,default:!0,required:!0})],A.prototype,"isCollapsed",void 0),L([Object(v.g)("isCollapsed")],A.prototype,"updateFollowed",null);var T=A=L([v.a],A),$=(n(395),Object(S.a)(T,(function(){var t=this.$createElement;return(this._self._c||t)("div",{ref:"collapseItem",class:{"collapse-item":!0,collapsed:this.isCollapsed}},[this._t("default")],2)}),[],!1,null,null,null).exports),E=n(320);function F(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d()(t);if(e){var o=d()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u()(this,n)}}var M=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"==typeof Reflect?"undefined":h()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},N=function(t){s()(r,t);var e=F(r);function r(){var t;return o()(this,r),(t=e.apply(this,arguments)).isExpanded=!1,t.iconExpandWeb=n(396),t.iconExpandH5=n(397),t.iconForbidden=n(398),t.followed=!1,t.followSource=C.a.fromUgc,t}return a()(r,[{key:"updateFollowed",value:function(){this.followed=this.ugcData.uploader.following}},{key:"videoType",get:function(){return this.ogvData?y.b.OGV:y.b.UGC}},{key:"isOGV",get:function(){return this.videoType===y.b.OGV}},{key:"title",get:function(){var t,e;return this.isOGV?null===(t=this.ogvData)||void 0===t?void 0:t.title:null===(e=this.ugcData)||void 0===e?void 0:e.title}},{key:"desc",get:function(){var t,e;return this.isOGV?null===(t=this.ogvData)||void 0===t?void 0:t.description:null===(e=this.ugcData)||void 0===e?void 0:e.desc}},{key:"valuesForms",get:function(){var t,e,n,r;return[{key:"season_type,limit_areas",value:[null===(t=this.ogvData)||void 0===t?void 0:t.season_type,null===(e=this.ogvData)||void 0===e?void 0:e.area_names],show:!0},{key:"player_time",value:[null===(n=this.ogvData)||void 0===n?void 0:n.player_time],show:!0},{key:"index_show",value:[null===(r=this.ogvData)||void 0===r?void 0:r.index_show],show:!0}]}},{key:"kvForms",get:function(){var t,e,n,r,o,i,a,c,s,l,u,f,d,p;return[{key:"alias_name",label:this.$t("video.info.aliasName"),value:null===(t=this.ogvData)||void 0===t?void 0:t.alias_name,type:"text",show:!(null===(e=this.ogvData)||void 0===e||!e.alias_name)},{key:"origin_name",label:this.$t("video.info.originName"),value:null===(n=this.ogvData)||void 0===n?void 0:n.origin_name,type:"text",show:!(null===(r=this.ogvData)||void 0===r||!r.origin_name)},{key:"directors",label:this.$t("video.info.directors"),value:null===(o=this.ogvData)||void 0===o?void 0:o.directors,type:"text",show:!(null===(i=this.ogvData)||void 0===i||!i.directors)},{key:"actors",label:this.$t("video.info.actors"),value:null===(a=this.ogvData)||void 0===a?void 0:a.actors,type:"text",show:!(null===(c=this.ogvData)||void 0===c||!c.actors)},{key:"writers",label:this.$t("video.info.writers"),value:null===(s=this.ogvData)||void 0===s?void 0:s.writers,type:"text",show:!(null===(l=this.ogvData)||void 0===l||!l.writers)},{key:"performers",label:this.$t("video.info.performers"),value:null===(u=this.ogvData)||void 0===u?void 0:u.performers,type:"text",show:!(null===(f=this.ogvData)||void 0===f||!f.performers)},{key:"staff",label:this.$t("video.info.staff"),value:null===(d=this.ogvData)||void 0===d?void 0:d.staff,type:"text",show:!(null===(p=this.ogvData)||void 0===p||!p.staff)}]}},{key:"showDetailBtn",get:function(){var t;return!(this.videoType===y.b.UGC&&(null===(t=this.ugcData)||void 0===t||!t.desc))}},{key:"showForbidden",get:function(){var t;return this.videoType===y.b.UGC&&(null===(t=this.ugcData)||void 0===t?void 0:t.repost_forbidden)}},{key:"spaceUrl",get:function(){var t,e;return"/".concat(this.sLocale,"/space/").concat(null===(t=this.ugcData)||void 0===t||null===(e=t.uploader)||void 0===e?void 0:e.mid)}},{key:"toDetail",get:function(){return{name:"ogvDetail",params:{sLocale:this.sLocale,seasonId:this.ogvData.season_id}}}},{key:"handleTitleClick",value:function(){this.$emit("click",{type:"title"})}},{key:"handleToggleDetail",value:function(){this.isExpanded=!this.isExpanded}},{key:"handleFollowChange",value:function(t){var e;this.followed=t,this.$emit("click",{type:"follow",followed:t,uid:null===(e=this.ugcData)||void 0===e?void 0:e.uploader.mid})}},{key:"handleClickUp",value:function(){var t;this.$emit("click",{type:"up",uid:null===(t=this.ugcData)||void 0===t?void 0:t.uploader.mid})}},{key:"handleStyleClick",value:function(t){E.b.clickStyles(t.id)}}]),r}(v.f);M([Object(m.b)("sLocale")],N.prototype,"sLocale",void 0),M([Object(m.b)((function(t){return t.Layout.isH5}))],N.prototype,"isH5",void 0),M([Object(v.d)(Object)],N.prototype,"ogvData",void 0),M([Object(v.d)(Object)],N.prototype,"ugcData",void 0),M([Object(v.g)("ugcData")],N.prototype,"updateFollowed",null);var U=N=M([Object(v.a)({components:{VideoStyle:b.a,FollowButton:I,Collapse:$}})],N),z=(n(399),Object(S.a)(U,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:["video-info",t.isH5?"h5":""]},[n("div",{staticClass:"video-info__title-wrap"},[n("h1",{staticClass:"video-info__title",on:{click:t.handleTitleClick}},[t.isOGV?n("router-link",{attrs:{to:t.toDetail,target:"_blank"}},[t._v("\n          "+t._s(t.title)+"\n        ")]):[t._v("\n          "+t._s(t.title)+"\n        ")]],2),t._v(" "),t.isH5&&t.showDetailBtn?n("button",{class:["video-info__details-btn",t.isExpanded?"expand":""],attrs:{type:"button"},on:{click:t.handleToggleDetail}},[n("img",{staticClass:"video-info__details-btn--icon",attrs:{src:t.iconExpandH5}})]):t._e()]),t._v(" "),n("div",{staticClass:"video-info__subtitle"},[t.isOGV&&t.ogvData?[t.ogvData.update_pattern?n("span",[t._v(t._s(t.ogvData.update_pattern))]):t._e(),t._v(" "),t.ogvData.update_pattern?n("span",{staticClass:"video-info__divide-line"}):t._e(),t._v(" "),t.ogvData.pay_policy?n("span",{staticClass:"video-info__pay-policy"},[t._v(t._s(t.ogvData.pay_policy))]):t._e(),t._v(" "),t.isH5?n("br"):t._e(),t._v(" "),n("h2",{staticClass:"video-info__ogv-views"},[t._v("\n          "+t._s(t.ogvData.view)+"\n        ")]),t._v(" "),t.ogvData.styles&&t.ogvData.styles.length>0?n("video-style",{staticClass:"video-info__tag",attrs:{styles:t.ogvData.styles},on:{click:t.handleStyleClick}}):t._e()]:t._e(),t._v(" "),!t.isOGV&&t.ugcData?[n("h2",[t._v(t._s(t.ugcData.stat?t.ugcData.stat.views:""))]),t._v(" "),n("span",{staticClass:"video-info__pub-date"},[t._v(t._s(t.ugcData.pub_date))])]:t._e(),t._v(" "),!t.isH5&&t.showDetailBtn?n("button",{class:["video-info__details-btn",t.isExpanded?"expand":""],attrs:{type:"button"},on:{click:t.handleToggleDetail}},[t._v("\n        "+t._s(t.$t("video.info.details"))+"\n        "),n("img",{staticClass:"video-info__details-btn--icon",attrs:{src:t.iconExpandWeb}})]):t._e()],2),t._v(" "),n("Collapse",{staticClass:"video-info__collapse",attrs:{"is-collapsed":!t.isExpanded}},[n("section",{staticClass:"video-info__details"},[t.isOGV&&t.ogvData?[n("div",{staticClass:"video-info__values-block"},[t._l(t.valuesForms,(function(e){return[n("div",{key:e.key,staticClass:"video-info__values-block--row"},[t._l(e.value,(function(e,r){return[""!==e?[0!==r?n("span",{key:"a"+r,staticClass:"video-info__divide-line"}):t._e(),t._v(" "),n("h3",{key:r,staticClass:"video-info__values-block--span"},[t._v("\n                      "+t._s(e)+"\n                    ")])]:t._e()]}))],2)]}))],2),t._v(" "),n("div",{staticClass:"video-info__kv-block"},[t._l(t.kvForms,(function(e){return[e.show?n("p",{key:e.key,staticClass:"video-info__kv-block--row"},[n("span",{staticClass:"video-info__kv-block--label"},[t._v(t._s(e.label))]),t._v(" "),"text"===e.type?n("span",[t._v(t._s(e.value))]):t._e()]):t._e()]}))],2)]:t._e(),t._v(" "),n("article",{staticClass:"video-info__desc"},[t._v(t._s(t.desc))]),t._v(" "),t.showForbidden?n("div",{staticClass:"video-info__forbidden video-info__row"},[n("img",{staticClass:"video-info__forbidden-icon",attrs:{src:t.iconForbidden}}),t._v("\n          "+t._s(t.ugcData.repost_forbidden)+"\n        ")]):t._e()],2)]),t._v(" "),!t.isOGV&&t.ugcData?n("section",{staticClass:"video-info__creator video-info__row"},[n("a",{staticClass:"video-info__creator--avatar seo-link--block",attrs:{href:t.spaceUrl},on:{click:t.handleClickUp}},[n("img",{staticClass:"video-info__creator--avatar",attrs:{src:t.ugcData.uploader?t.ugcData.uploader.avatar:"",alt:"creator avatar"}})]),t._v(" "),n("div",{staticClass:"video-info__creator--text"},[n("a",{staticClass:"seo-link--block",attrs:{href:t.spaceUrl},on:{click:t.handleClickUp}},[n("div",{staticClass:"video-info__creator--nickname"},[t._v("\n            "+t._s(t.ugcData.uploader?t.ugcData.uploader.name:"")+"\n          ")])]),t._v(" "),n("div",{staticClass:"video-info__creator--data"},[t._v("\n          "+t._s(t.ugcData.stat?t.ugcData.stat.followers:"")+" · "+t._s(t.ugcData.stat?t.ugcData.stat.arcs:"")+"\n        ")])]),t._v(" "),n("FollowButton",{staticClass:"video-info__follow-btn",attrs:{mid:String(t.ugcData.uploader?t.ugcData.uploader.mid:""),followed:t.followed,"source-from":t.followSource},on:{change:t.handleFollowChange}})],1):t._e()],1)}),[],!1,null,null,null));e.a=z.exports},419:function(t,e,n){"use strict";var r=n(5),o=n.n(r),i=n(10),a=n.n(i),c=n(7),s=n.n(c),l=n(8),u=n.n(l),f=n(3),d=n.n(f),p=n(6),h=n.n(p),v=n(0),y=n(12),m=n.n(y),b={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}};var g=n(11).default.prototype.$isServer,_=!g&&document.addEventListener?function(t,e,n){t&&e&&n&&t.addEventListener(e,n,!1)}:function(t,e,n){t&&e&&n&&t.attachEvent("on"+e,n)},k=!g&&document.removeEventListener?function(t,e,n){t&&e&&t.removeEventListener(e,n,!1)}:function(t,e,n){t&&e&&t.detachEvent("on"+e,n)};function O(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d()(t);if(e){var o=d()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u()(this,n)}}var j=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"==typeof Reflect?"undefined":h()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},w=function(t){s()(n,t);var e=O(n);function n(){var t;return o()(this,n),(t=e.apply(this,arguments)).cursorDown=!1,t}return a()(n,[{key:"bar",get:function(){return b[this.direction]}},{key:"barClass",get:function(){return"is-".concat(this.direction)}},{key:"barStyle",get:function(){return t={size:this.size,move:this.move,bar:this.bar},n=t.move,r=t.size,o=t.bar,i="translate".concat(o.axis,"(").concat(n,"%)"),e={},m()(e,o.size,r),m()(e,"transform",i),m()(e,"msTransform",i),m()(e,"webkitTransform",i),e;var t,e,n,r,o,i}},{key:"clickThumbHandler",value:function(t){t.ctrlKey||2===t.button||(this.startDrag(t),this[this.bar.axis]=t.currentTarget[this.bar.offset]-(t[this.bar.client]-t.currentTarget.getBoundingClientRect()[this.bar.direction]))}},{key:"clickTrackHandler",value:function(t){var e=100*(Math.abs(t.target.getBoundingClientRect()[this.bar.direction]-t[this.bar.client])-this.$refs.thumb[this.bar.offset]/2)/this.$el[this.bar.offset];this.$emit("bar-click",e,this.direction)}},{key:"startDrag",value:function(t){t.stopImmediatePropagation(),this.cursorDown=!0,_(document,"mousemove",this.mouseMoveDocumentHandler),_(document,"mouseup",this.mouseUpDocumentHandler),document.onselectstart=function(){return!1}}},{key:"mouseMoveDocumentHandler",value:function(t){if(!1!==this.cursorDown){var e=this[this.bar.axis];if(e){var n=100*(-1*(this.$el.getBoundingClientRect()[this.bar.direction]-t[this.bar.client])-(this.$refs.thumb[this.bar.offset]-e))/this.$el[this.bar.offset];this.$emit("bar-click",n,this.direction)}}}},{key:"mouseUpDocumentHandler",value:function(){this.cursorDown=!1,this[this.bar.axis]=0,k(document,"mousemove",this.mouseMoveDocumentHandler),document.onselectstart=null}}]),n}(v.f);j([Object(v.d)({type:String,default:"vertical"})],w.prototype,"direction",void 0),j([Object(v.d)({type:String,default:""})],w.prototype,"size",void 0),j([Object(v.d)({type:Number,default:0})],w.prototype,"move",void 0);var C=w=j([Object(v.a)({components:{}})],w),R=(n(412),n(9)),x=Object(R.a)(C,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{class:["bstar-scrollbar__bar",this.barClass],on:{mousedown:this.clickTrackHandler}},[e("div",{ref:"thumb",staticClass:"bstar-scrollbar__thumb",style:this.barStyle,on:{mousedown:this.clickThumbHandler}})])}),[],!1,null,"c94fe4fc",null).exports,P=n(13),D=n(174);function S(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return I(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function I(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var B="undefined"==typeof window,L=function(t){var e,n=S(t);try{for(n.s();!(e=n.n()).done;){var r=e.value.target.__resizeListeners__||[];r.length&&r.forEach((function(t){t()}))}}catch(t){n.e(t)}finally{n.f()}};function A(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d()(t);if(e){var o=d()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u()(this,n)}}var T=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"==typeof Reflect?"undefined":h()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},$=function(t){s()(n,t);var e=A(n);function n(){var t;return o()(this,n),(t=e.apply(this,arguments)).sizeWidth="",t.sizeHeight="",t.moveX=0,t.moveY=0,t}return a()(n,[{key:"isMobile",get:function(){return Object(P.e)().isMobile}},{key:"wrap",get:function(){return this.$refs.wrap}},{key:"handleScroll",value:function(){if(!this.isMobile){var t=this.wrap;this.moveY=100*t.scrollTop/t.clientHeight,this.moveX=100*t.scrollLeft/t.clientWidth}}},{key:"update",value:function(){var t=this.wrap;if(t){var e=100*t.clientHeight/t.scrollHeight,n=100*t.clientWidth/t.scrollWidth;this.sizeHeight=e<100?e+"%":"",this.sizeWidth=n<100?n+"%":""}}},{key:"handleBarClick",value:function(t,e){this.wrap[b[e].scroll]=t*this.wrap[b[e].scrollSize]/100}},{key:"mounted",value:function(){var t,e;this.isMobile||(this.$nextTick(this.update),t=this.$refs.view,e=this.update,B||(t.__resizeListeners__||(t.__resizeListeners__=[],t.__ro__=new D.default(L),t.__ro__.observe(t)),t.__resizeListeners__.push(e)))}},{key:"beforeDestroy",value:function(){var t,e;this.isMobile||(t=this.$refs.view,e=this.update,t&&t.__resizeListeners__&&(t.__resizeListeners__.splice(t.__resizeListeners__.indexOf(e),1),t.__resizeListeners__.length||t.__ro__.disconnect()))}}]),n}(v.f);T([Object(v.d)({type:String,default:""})],$.prototype,"wrapClass",void 0),T([Object(v.d)({type:String,default:""})],$.prototype,"viewClass",void 0);var E=$=T([Object(v.a)({components:{Bar:x}})],$),F=(n(413),Object(R.a)(E,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bstar-scrollbar"},[n("div",{ref:"wrap",class:["bstar-scrollbar__wrap",t.wrapClass,{"bstar-scrollbar__wrap--hidden-default":!t.isMobile}],on:{scroll:t.handleScroll}},[n("div",{ref:"view",class:["bstar-scrollbar__view",t.viewClass]},[t._t("default")],2)]),t._v(" "),t.isMobile?t._e():[n("bar",{attrs:{direction:"horizontal",move:t.moveX,size:t.sizeWidth},on:{"bar-click":t.handleBarClick}}),t._v(" "),n("bar",{attrs:{move:t.moveY,size:t.sizeHeight},on:{"bar-click":t.handleBarClick}})]],2)}),[],!1,null,"20ec3e8b",null));e.a=F.exports},420:function(t,e,n){"use strict";var r=n(4),o=n.n(r),i=n(5),a=n.n(i),c=n(10),s=n.n(c),l=n(7),u=n.n(l),f=n(8),d=n.n(f),p=n(3),h=n.n(p),v=n(6),y=n.n(v),m=n(1),b=n.n(m),g=n(0),_=n(74);function k(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h()(t);if(e){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d()(this,n)}}var O=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"==typeof Reflect?"undefined":y()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},j=function(t){u()(n,t);var e=k(n);function n(){var t;return a()(this,n),(t=e.apply(this,arguments)).showMask=!1,t.showWrap=!1,t.showDialog=!1,t.minHeight=0,t}return s()(n,[{key:"onVisibleChange",value:function(t){document.body.style.overflow=t?"hidden":null,t?this.show():this.hide()}},{key:"styleVar",get:function(){return{"--height":this.minHeight+"px"}}},{key:"throttleResizeListener",value:function(){this.minHeight=window.innerHeight}},{key:"show",value:function(){var t=this;this.showMask=!0,this.showWrap=!0,this.minHeight=window.innerHeight,window.addEventListener("resize",this.throttleResizeListener),setTimeout((function(){t.showDialog=!0}),100)}},{key:"hide",value:function(){var t=this;this.showMask=!1,this.showDialog=!1,setTimeout((function(){t.showWrap=!1,window.removeEventListener("resize",t.throttleResizeListener)}),400)}},{key:"handleBack",value:function(){this.$emit("back")}},{key:"handleClose",value:function(){this.$emit("close")}},{key:"handleSubmit",value:function(){this.$emit("submit")}}]),n}(g.f);O([Object(g.d)({type:Boolean,required:!0})],j.prototype,"visible",void 0),O([Object(g.d)({type:String,required:!0})],j.prototype,"title",void 0),O([Object(g.d)(String)],j.prototype,"buttonText",void 0),O([Object(g.d)(Boolean)],j.prototype,"showBack",void 0),O([Object(g.d)(Boolean)],j.prototype,"disabled",void 0),O([Object(g.d)(Boolean)],j.prototype,"loading",void 0),O([Object(g.g)("visible")],j.prototype,"onVisibleChange",null);var w=j=O([Object(g.a)({components:{Loading:_.a}})],j),C=(n(400),n(9)),R=Object(C.a)(w,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dialog"},[n("div",{class:["dialog__mask",{"dialog__mask--show":t.showMask}]}),t._v(" "),n("div",{class:["dialog__wrap",{"dialog__wrap--show":t.showWrap}]},[n("div",{class:["dialog__container",{"dialog__container--show":t.showDialog}],style:t.styleVar},[n("div",{staticClass:"dialog__header"},[t.showBack?n("button",{staticClass:"dialog__back",on:{click:t.handleBack}}):t._e(),t._v(" "),n("span",[t._v(t._s(t.title))]),t._v(" "),n("button",{staticClass:"dialog__close",on:{click:t.handleClose}})]),t._v(" "),n("div",{staticClass:"dialog__body"},[t._t("default")],2),t._v(" "),n("div",{staticClass:"dialog__footer"},[n("button",{staticClass:"dialog__submit",attrs:{disabled:t.disabled||t.loading},on:{click:t.handleSubmit}},[t._v("\n          "+t._s(t.buttonText)+"\n        ")])]),t._v(" "),t.loading?n("div",{staticClass:"dialog__loading"},[n("loading",{staticClass:"dialog__loading-icon",attrs:{"is-loading":""}})],1):t._e()])])])}),[],!1,null,"c8f3a53e",null).exports,x=n(362),P=n(16);function D(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h()(t);if(e){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d()(this,n)}}var S=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"==typeof Reflect?"undefined":y()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},I=function(t){u()(i,t);var e,r=D(i);function i(){var t;return a()(this,i),(t=r.apply(this,arguments)).form={title:"",submit_text:"",close_text:"",next_text:"",components:{}},t.successImg=n(401),t.isFetching=!1,t}return s()(i,[{key:"buttonText",get:function(){return this.showNext?this.form.next_text:this.message.success?this.form.close_text:this.form.submit_text}},{key:"dialogProps",get:function(){return{visible:this.visible,title:this.form.title,buttonText:this.buttonText,disabled:this.disabled,loading:this.loading,showBack:this.showBack}}},{key:"showSlot",get:function(){return this.visible&&Object.keys(this.form.components).length>0}},{key:"onVisibleChange",value:function(t){t&&this.fetchForm()}},{key:"fetchForm",value:(e=o()(b.a.mark((function t(){var e;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.isFetching=!0,t.prev=1,t.next=4,Object(x.a)(this.feedbackType)(this.sLocale);case 4:e=t.sent,this.form=e.data,t.next=10;break;case 8:t.prev=8,t.t0=t.catch(1);case 10:return t.prev=10,this.isFetching=!1,t.finish(10);case 13:case"end":return t.stop()}}),t,this,[[1,8,10,13]])}))),function(){return e.apply(this,arguments)})},{key:"handleSubmit",value:function(){this.message.success?this.$emit("close"):this.$emit("submit")}},{key:"handleBack",value:function(){this.$emit("back")}},{key:"handleClose",value:function(){this.$emit("close")}}]),i}(g.f);S([Object(g.d)({type:Boolean,required:!0})],I.prototype,"visible",void 0),S([Object(g.d)({type:Number,required:!0})],I.prototype,"feedbackType",void 0),S([Object(g.d)({type:Object,required:!0})],I.prototype,"message",void 0),S([Object(g.d)(Boolean)],I.prototype,"disabled",void 0),S([Object(g.d)(Boolean)],I.prototype,"loading",void 0),S([Object(g.d)(Boolean)],I.prototype,"showBack",void 0),S([Object(g.d)(Boolean)],I.prototype,"showNext",void 0),S([Object(P.b)("sLocale")],I.prototype,"sLocale",void 0),S([Object(g.g)("visible")],I.prototype,"onVisibleChange",null);var B=I=S([Object(g.a)({components:{BDialog:R,Loading:_.a}})],I),L=(n(402),Object(C.a)(B,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-dialog",t._b({on:{submit:t.handleSubmit,close:t.handleClose,back:t.handleBack}},"b-dialog",t.dialogProps,!1),[n("loading",{attrs:{"is-loading":t.isFetching}}),t._v(" "),t.message.success?n("div",{staticClass:"feedback-dialog__success"},[n("img",{staticClass:"feedback-dialog__success-image",attrs:{src:t.successImg,alt:"success"}}),t._v(" "),n("p",{staticClass:"feedback-dialog__success-text"},[t._v("\n      "+t._s(t.message.success)+"\n    ")])]):t.showSlot?t._t("default",null,{components:t.form.components}):t._e(),t._v(" "),t.message.error?n("p",{staticClass:"feedback-dialog__error"},[t._v("\n    "+t._s(t.message.error)+"\n  ")]):t._e()],2)}),[],!1,null,"ba22921e",null));e.a=L.exports},421:function(t,e,n){"use strict";var r,o,i=n(5),a=n.n(i),c=n(10),s=n.n(c),l=n(7),u=n.n(l),f=n(8),d=n.n(f),p=n(3),h=n.n(p),v=n(12),y=n.n(v),m=n(6),b=n.n(m),g=n(0),_=n(331),k=n(36),O=n(16);function j(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h()(t);if(e){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d()(this,n)}}var w=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"==typeof Reflect?"undefined":b()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},C=Object(O.c)("comment"),R=(r={},y()(r,k.c.OGV,"ogv"),y()(r,k.c.UGC,"ugc"),r),x=(o={},y()(o,k.c.OGV,"ogvVideoComment"),y()(o,k.c.UGC,"ugcVideoComment"),o),P=function(t){u()(n,t);var e=j(n);function n(){return a()(this,n),e.apply(this,arguments)}return s()(n,[{key:"activeTab",get:function(){return this.$route.name.includes("VideoComment")?k.f.Comment:k.f.Info}},{key:"tabList",get:function(){return[{label:this.$t("video.tab.info"),value:k.f.Info,routerName:R[this.type]},{label:this.$t("video.tab.comments"),value:k.f.Comment,count:this.count,routerName:x[this.type]}]}},{key:"handleChange",value:function(t){var e=t.value,n=t.routerName;this.$router.push({name:n,params:this.$route.params,query:this.$route.query}),e===k.f.Comment&&(this.$store.commit("comment/setRootParams",{pn:0,sort_type:k.e.Hot}),this.$store.dispatch("comment/getRootComment")),this.$store.commit("comment/setActiveSortTab",k.e.Hot)}}]),n}(g.f);w([Object(g.d)(Number)],P.prototype,"type",void 0),w([C.State("commentList")],P.prototype,"commentList",void 0),w([C.State("totalComment")],P.prototype,"count",void 0);var D=P=w([Object(g.a)({components:{BTab:_.a}})],P),S=(n(407),n(9)),I=Object(S.a)(D,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-tab",{staticClass:"video-detail-tab",attrs:{"bar-center":!1,items:t.tabList,"default-active":t.activeTab,gap:30},on:{change:t.handleChange},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.item;return[n("div",{staticClass:"video-detail-tab__label"},[n("p",[t._v(t._s(r.label))]),t._v(" "),n("span",{staticClass:"video-detail-tab__count"},[t._v(t._s(r.count))])])]}}])})}),[],!1,null,null,null);e.a=I.exports},422:function(t,e,n){"use strict";var r=n(5),o=n.n(r),i=n(171),a=n.n(i),c=n(7),s=n.n(c),l=n(8),u=n.n(l),f=n(3),d=n.n(f),p=n(6),h=n.n(p),v=n(0),y=n(379);function m(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d()(t);if(e){var o=d()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u()(this,n)}}var b=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"==typeof Reflect?"undefined":h()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},g=function(t){s()(n,t);var e=m(n);function n(){var t;return o()(this,n),(t=e.apply(this,arguments)).split=a()(t),t}return n}(v.f);b([Object(v.d)({type:String,default:">"})],g.prototype,"separator",void 0),b([Object(v.d)({type:Boolean,default:!1})],g.prototype,"dark",void 0),b([Object(v.e)("breadCrumb")],g.prototype,"split",void 0);var _=g=b([Object(v.a)({components:{BreadCrumbItem:y.a}})],g),k=(n(415),n(9)),O=Object(k.a)(_,(function(){var t=this.$createElement;return(this._self._c||t)("ul",{staticClass:"baster-web__bread-crumb"},[this._t("default")],2)}),[],!1,null,null,null);e.a=O.exports},447:function(t,e,n){},448:function(t,e,n){},449:function(t,e,n){},450:function(t,e,n){},451:function(t,e,n){},452:function(t,e,n){},453:function(t,e,n){},454:function(t,e,n){},455:function(t,e,n){},456:function(t,e,n){},457:function(t,e,n){},458:function(t,e,n){},526:function(t,e,n){"use strict";n(447)},527:function(t,e,n){"use strict";n(448)},528:function(t,e,n){"use strict";n(449)},529:function(t,e,n){"use strict";n(450)},530:function(t,e,n){t.exports=n.p+"assets/btn_pic_delete.svg"},531:function(t,e,n){"use strict";n(451)},532:function(t,e,n){t.exports=n.p+"assets/upload_plus.svg"},533:function(t,e,n){t.exports=n.p+"assets/loading.gif"},534:function(t,e,n){"use strict";n(452)},535:function(t,e,n){"use strict";n(453)},538:function(t,e,n){"use strict";n(454)},539:function(t,e,n){"use strict";n(455)},540:function(t,e,n){"use strict";n(456)},541:function(t,e,n){"use strict";n(457)},543:function(t,e,n){"use strict";n(458)},589:function(t,e,n){"use strict";n.r(e);var r=n(21),o=n.n(r),i=n(12),a=n.n(i),c=n(5),s=n.n(c),l=n(10),u=n.n(l),f=n(7),d=n.n(f),p=n(8),h=n.n(p),v=n(3),y=n.n(v),m=n(6),b=n.n(m),g=n(0),_=n(17),k=n(15),O=n(13),j=n(16),w=n(24),C=n(80),R=n(337),x=n(27),P=n(321);function D(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=y()(t);if(e){var o=y()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var S=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"==typeof Reflect?"undefined":b()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},I=function(t){d()(n,t);var e=D(n);function n(){return s()(this,n),e.apply(this,arguments)}return u()(n,[{key:"onClickCard",value:function(t,e){P.a.clickRelatedRecommend({aid:t.aid,pos:e});var n=Object(x.e)("ugc",{aID:String(t.aid)});Object(x.m)({browser:{url:n,open:!1}},a()({},w.a,P.a.from.ugcVideoRelatedRecommend))}}]),n}(g.f);S([Object(g.d)({type:Array,default:[]})],I.prototype,"list",void 0);var B=I=S([Object(g.a)({components:{EpCardAcross:C.a,WidgetsTotalTime:R.a}})],I),L=(n(526),n(9)),A=Object(L.a)(B,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ugc-recommend-adaptive-wrapper"},[n("ul",{staticClass:"ugc-recommend-list"},t._l(t.list,(function(e,r){return n("li",{key:e.aid},[n("EpCardAcross",{attrs:{title:e.title,"title-max-line":2,cover:t.$slimImg(e.cover,320,180),dark:!0,"custom-class":"ugc-recommend-side-card",type:"ugc","video-id":String(e.aid)},on:{click:function(n){return t.onClickCard(e,r)}},scopedSlots:t._u([{key:"coverBottomRight",fn:function(){return[n("WidgetsTotalTime",{attrs:{time:e.duration,right:6,bottom:6,"font-size":12}})]},proxy:!0},{key:"desc",fn:function(){return[n("p",{staticClass:"item__nickname"},[t._v("\n            "+t._s(e.author.nickname)+"\n          ")]),t._v(" "),n("p",{staticClass:"item__view"},[t._v("\n            "+t._s(e.view)+"\n          ")])]},proxy:!0}],null,!0)})],1)})),0)])}),[],!1,null,"7681527a",null).exports,T=n(332),$=n(341),E=n(74),F=n(322);function M(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=y()(t);if(e){var o=y()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var N=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"==typeof Reflect?"undefined":b()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},U=function(t){d()(n,t);var e=M(n);function n(){return s()(this,n),e.apply(this,arguments)}return u()(n,[{key:"rowNums",get:function(){return this.layoutNums[0]}},{key:"getDesc",value:function(t){var e=t.view,n=t.author;return"".concat(n.nickname," · ").concat(e)}},{key:"onClickCard",value:function(t,e,n){if(P.a.clickRelatedRecommend({aid:e.aid,pos:n}),"avatar"===t)Object(x.m)({router:{url:"/space/".concat(e.author.mid),vm:this}});else{var r=Object(x.e)("ugc",{aID:String(e.aid)});Object(x.m)({browser:{url:r,open:!1}},a()({},w.a,P.a.from.ugcVideoRelatedRecommend))}}}]),n}(g.f);N([Object(g.d)({type:Array,default:function(){return[]}})],U.prototype,"list",void 0),N([Object(g.d)({type:Boolean,default:!1})],U.prototype,"isLoading",void 0),N([Object(j.b)("layoutNums")],U.prototype,"layoutNums",void 0);var z=U=N([Object(g.a)({components:{EpCardHorizontal:T.a,WidgetsTotalTime:R.a,CategoryTitle:$.a,Loading:E.a,ScrollWrap:F.a}})],U),H=(n(527),Object(L.a)(z,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ugc-recommend"},[n("CategoryTitle",{attrs:{"custom-class":"ugc-recommend-title",title:t.$t("video.ogvRecommend"),dark:!0}}),t._v(" "),n("Loading",{attrs:{dark:!0,"is-loading":t.isLoading}}),t._v(" "),n("div",{staticClass:"ugc-recommend__carousel-cards"},[t.list.length>0?n("scroll-wrap",{attrs:{unique:"aid",data:t.list,top:101.5},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.item,o=e.index;return[n("EpCardHorizontal",{class:{end:(o+1)%t.rowNums==0},attrs:{title:r.title,desc:t.getDesc(r),cover:t.$slimImg(r.cover,720,406),avatar:t.$slimImg(r.author.avatar,100,100),type:"ugc","video-id":String(r.aid),"user-id":String(r.author.mid),dark:!0},on:{click:function(e){return t.onClickCard(e,r,o)}},scopedSlots:t._u([{key:"coverBottomRight",fn:function(){return[n("WidgetsTotalTime",{attrs:{time:r.duration}})]},proxy:!0}],null,!0)})]}}],null,!1,250722961)}):t._e()],1),t._v(" "),n("div",{staticClass:"ugc-recommend__mobile-cards"},t._l(t.list,(function(e,r){return n("EpCardHorizontal",{key:e.aid,class:{end:(r+1)%t.rowNums==0},attrs:{title:e.title,desc:t.getDesc(e),cover:t.$slimImg(e.cover,720,406),avatar:t.$slimImg(e.author.avatar,100,100),type:"ugc","video-id":String(e.aid),"user-id":String(e.author.mid),dark:!0},on:{click:function(n){var o=n.type;return t.onClickCard(o,e,r)}},scopedSlots:t._u([{key:"coverBottomRight",fn:function(){return[n("WidgetsTotalTime",{attrs:{time:e.duration}})]},proxy:!0}],null,!0)})})),1)],1)}),[],!1,null,"4e3a0b8b",null).exports);function V(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=y()(t);if(e){var o=y()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var q=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"==typeof Reflect?"undefined":b()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},G=function(t){d()(n,t);var e=V(n);function n(){return s()(this,n),e.apply(this,arguments)}return u()(n,[{key:"getDesc",value:function(t){var e=t.view,n=t.author;return"".concat(n.nickname," · ").concat(e)}},{key:"onClickCard",value:function(t,e,n){if(P.a.clickTopListRecommend({aid:e.aid,pos:n}),"avatar"===t)Object(x.m)({router:{url:"/space/".concat(e.author.mid),vm:this}});else{var r=Object(x.e)("ugc",{aID:String(e.aid)});Object(x.m)({browser:{url:r,open:!1}},a()({},w.a,P.a.from.ugcVideoTopListRecommend))}}}]),n}(g.f);q([Object(g.d)({type:Array,default:function(){return[]}})],G.prototype,"list",void 0),q([Object(g.d)({type:Boolean,default:!1})],G.prototype,"isLoading",void 0);var W=G=q([Object(g.a)({components:{EpCardHorizontal:T.a,CategoryTitle:$.a,WidgetsTotalTime:R.a,ScrollWrap:F.a,Loading:E.a}})],G),Y=(n(528),Object(L.a)(W,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ugc-trending-wrapper"},[n("CategoryTitle",{attrs:{title:t.$t("home.subTitle.ugcTopVideo"),dark:!0}}),t._v(" "),n("Loading",{attrs:{dark:!0,"is-loading":t.isLoading}}),t._v(" "),n("div",{staticClass:"ugc-trending-wrapper__flex-cards"},t._l(t.list,(function(e,r){return n("EpCardHorizontal",{key:e.aid,attrs:{title:e.title,desc:t.getDesc(e),cover:t.$slimImg(e.cover,720,406),avatar:t.$slimImg(e.author.avatar,100,100),type:"ugc","video-id":String(e.aid),"user-id":String(e.author.mid),dark:!0},on:{click:function(n){var o=n.type;return t.onClickCard(o,e,r)}},scopedSlots:t._u([{key:"coverBottomRight",fn:function(){return[n("WidgetsTotalTime",{attrs:{time:e.duration}})]},proxy:!0}],null,!0)})})),1)],1)}),[],!1,null,"d4109176",null).exports),Q=n(4),Z=n.n(Q),K=n(1),J=n.n(K),X=n(342),tt=n(64),et=n(351),nt=n(22),rt=n(34),ot=n(389),it=n(43),at=n(390),ct=n(352),st=n(343);function lt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ut(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?lt(Object(n),!0).forEach((function(e){a()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ft(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=y()(t);if(e){var o=y()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var dt=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"==typeof Reflect?"undefined":b()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},pt=Object(j.c)("UgcVideo"),ht=function(t){d()(f,t);var e,r,o,i,a,c,l=ft(f);function f(){var t;return s()(this,f),(t=l.apply(this,arguments)).player=null,t.playUrl={dash:{}},t.playedOnce=!1,t.playEndedOnce=!1,t.playerInfoSnapshot=null,t.subtitleList=null,t.defaultSubtitleKey="",t.playerListener=null,t.quality=16,t.playerPreviewData=null,t.playerQualityOptions=null,t.isFullScreen=!1,t}return u()(f,[{key:"fullScreenClass",get:function(){return this.isFullScreen?"full-screen":""}},{key:"mounted",value:function(){var t=this;this.queryPlayUrl(),ct.b.$on(ct.a.CloseReport,(function(){t.player&&t.player.play()}))}},{key:"beforeDestroy",value:function(){var t;null===(t=this.playerListener)||void 0===t||t.destroy(),window.removeEventListener("beforeunload",this.handleUnload),this.playEndedOnce||(this.reportTrackHeartbeat(),ct.b.$off(ct.a.CloseReport))}},{key:"queryPlayUrl",value:(c=Z()(J.a.mark((function t(){var e,n,r,o,i,a,c,s,l,u,f,d,p;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=Object(O.e)().isiOS,t.next=3,Object(nt.e)({aid:this.aid,s_locale:k.d[this.$store.state.sLocale],platform:i?"html5":"web",qn:64,type:0,device:"wap",tf:0});case 3:if(a=t.sent,c=null==a||null===(e=a.data)||void 0===e?void 0:e.playurl,s=Boolean(Object(O.j)(window.document.cookie,"DedeUserID__ckMd5"))||Boolean(null===(n=this.userInfo)||void 0===n?void 0:n.isLogin),l=Object(x.g)(null==c?void 0:c.video),u=Object(x.b)(s,"ugc",JSON.parse(JSON.stringify(l))),f=Object(X.d)(c),this.playerQualityOptions=Object(x.f)(s,!1,!0,l),this.playUrl=i?null==c||null===(r=c.video[0])||void 0===r||null===(o=r.video_resource)||void 0===o?void 0:o.url:f,this.quality=u,this.playUrl){t.next=14;break}return t.abrupt("return",null);case 14:return t.next=16,this.querySubtitle();case 16:return t.next=18,this.getPreviewData();case 18:return d=t.sent,t.next=21,this.getPreviewBin(null==d?void 0:d.pv_data);case 21:p=t.sent,this.playerPreviewData=Object(X.a)(d,p),this.destroyPlayer(),this.initPlayer();case 25:case"end":return t.stop()}}),t,this)}))),function(){return c.apply(this,arguments)})},{key:"querySubtitle",value:(a=Z()(J.a.mark((function t(){var e,n,r,o;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return at.c.exposeSubtitle({type:at.a.Ugc,from_lang:at.b,to_lang:Object(x.q)()||this.sLocale||k.e.en,aid:this.aid,sid:"",epid:""}),t.prev=1,t.next=4,Object(rt.h)({params:{aid:this.aid}});case 4:e=t.sent,n=Object(X.e)(e.data.subtitles),r=n.list,this.subtitleList=r,o=Object(x.c)(this.sLocale,r),this.defaultSubtitleKey=o,t.next=13;break;case 11:t.prev=11,t.t0=t.catch(1);case 13:case"end":return t.stop()}}),t,this,[[1,11]])}))),function(){return a.apply(this,arguments)})},{key:"initPlayer",value:function(){var t=this.genPlayerConfig(),e=new(0,n(426).default)(t);this.player=e,this.playerListener=new ot.a(e),this.playerListener.listen(),window.addEventListener("beforeunload",this.handleUnload),this.bindPlayerEvent()}},{key:"genPlayerConfig",value:function(){var t=this;return{hasDanmaku:!1,danmaku:!1,noRecommend:!0,hideDanmakuButton:!0,autoplay:!this.isH5,readyVideoUrl:this.playUrl,readyPoster:Object(O.l)(this.cover,840,560),callAppMode:!1,hasSpeedButton:!0,hasVolButton:!this.isH5,hasCCReportButton:!1,hasSubtitleButton:this.subtitleList&&this.subtitleList.length,defaultLang:this.defaultSubtitleKey,supportedSubTitleList:this.subtitleList,previewData:this.isH5?null:this.playerPreviewData,hasQualityButton:this.playerQualityOptions&&this.playerQualityOptions.length,qualityList:this.playerQualityOptions,quality:this.quality,isH5:Object(O.e)().isMobile,i18n:this.$t("player"),onQualityChange:function(e){var n;return at.c.changeQuality({quality:e.quality}),e.quality>=48&&(null===(n=t.userInfo)||void 0===n||!n.isLogin)?(t.player.exitFullScreen(),t.$loginBox.showComponent({callbackUrl:window.location.href,from:it.b.SwitchQuality}),!1):(t.quality=e.quality,Object(x.n)(e.quality,"ugc"),!0)}}}},{key:"loadSubtitle",value:function(){var t=this;if(this.subtitleList&&this.subtitleList.length&&this.player.loadSubtitle){var e=this.subtitleList.find((function(e){return e.key===t.defaultSubtitleKey}));this.player.loadSubtitle(e?e.url:this.subtitleList[0].url)}}},{key:"bindPlayerEvent",value:function(){var t=this;this.player.on("video_media_error",(function(){t.$customReport("video_media_error",{aid:Number(t.aid)})})),this.player.on("video_media_play",(function(){t.playedOnce||(t.playedOnce=!0,t.reportTrackClick(),t.reportTrackHeartbeat())})),this.player.on("video_media_ended",(function(){t.playEndedOnce=!0,t.reportTrackHeartbeat()})),this.player.on("video_media_first_play_success",(function(){t.loadSubtitle(),t.seekHistory()})),this.player.on("video_click_speed",(function(t){at.c.changeSpeed({speed:t})})),this.player.on("video_click_subtitle",(function(e){if(t.subtitleList&&t.subtitleList.length){var n=t.subtitleList.find((function(t){return t.key===e.lang}));if(!n)return;at.c.exposeSubtitle({type:at.a.Ugc,from_lang:t.defaultSubtitleKey,to_lang:n.key,aid:t.aid,sid:"",epid:""}),at.c.changeSubtitle({cc_lang:n.key}),t.defaultSubtitleKey=n.key,Object(x.o)(n.key)}})),this.player.on("video_fullscreen_mode_changed",(function(e){var n=e.mode;t.isFullScreen=0!==n})),this.player.on("video_click_report",(function(){var e=t.player.getState()===st.a.Play;e&&t.player.pause(),t.player.isFullScreen()&&t.player.exitFullScreen(),ct.b.$emit(ct.a.ClickReport,{isPlaying:e})}))}},{key:"destroyPlayer",value:function(){var t;
//! notice: 播放器目前在 dash 格式下无法正常使用 reload，需销毁后重新创建
this.player&&this.player.destroy&&(this.playedOnce&&!this.playEndedOnce&&this.reportTrackHeartbeat(),this.playedOnce=!1,this.playEndedOnce=!1,null===(t=this.playerListener)||void 0===t||t.destroy(),this.player.destroy(),this.player=null,this.playerInfoSnapshot=null,window.removeEventListener("beforeunload",this.handleUnload))}},{key:"handleUnload",value:function(){this.createHistory(),this.playEndedOnce||this.reportTrackHeartbeat(!0)}},{key:"collectNotPlayerInfo",value:function(){var t=Object(ot.g)(this.userInfo),e=k.d[this.sLocale],n=Object(ot.e)(e,e),r=Object(ot.f)();return ut(ut(ut({},t),n),r)}},{key:"collectPlayerInfo",value:function(){if(this.playerInfoSnapshot)return this.playerInfoSnapshot;var t=new Date,e={epid:"",sid:"",quality:this.quality>116?ot.b.hd:ot.c[this.quality],aid:this.aid||"",type:ot.d.UGC,stime:Number((Number(t)/1e3).toFixed(0))};return this.playerInfoSnapshot=e,e}},{key:"collectEventData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.collectNotPlayerInfo(),n=this.collectPlayerInfo(),r=this.playerListener.getComputedPlayerStatus();return Object.assign({},e,n,t?r:null)}},{key:"reportTrackHeartbeat",value:(i=Z()(J.a.mark((function t(){var e,n,r=arguments;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=r.length>0&&void 0!==r[0]&&r[0],this.playedOnce){t.next=3;break}return t.abrupt("return");case 3:n=this.collectEventData(!0),Object(tt.d)(n,e);case 5:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"reportTrackClick",value:(o=Z()(J.a.mark((function t(){var e;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=this.collectEventData(),Object(tt.c)(e);case 2:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"getPreviewData",value:(r=Z()(J.a.mark((function t(){var e,n;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(rt.e)({params:{aid:this.aid}});case 3:if(0===(e=t.sent).code){t.next=6;break}return t.abrupt("return",null);case 6:return n=e.data,t.abrupt("return",n);case 10:return t.prev=10,t.t0=t.catch(0),t.abrupt("return",null);case 13:case"end":return t.stop()}}),t,this,[[0,10]])}))),function(){return r.apply(this,arguments)})},{key:"getPreviewBin",value:(e=Z()(J.a.mark((function t(e){var n;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return",null);case 2:return t.prev=2,t.next=5,Object(rt.d)(e);case 5:if(!(n=t.sent)){t.next=8;break}return t.abrupt("return",n);case 8:return t.abrupt("return",null);case 11:return t.prev=11,t.t0=t.catch(2),console.error(t.t0),t.abrupt("return",null);case 15:case"end":return t.stop()}}),t,null,[[2,11]])}))),function(t){return e.apply(this,arguments)})},{key:"createHistory",value:function(){if(this.playedOnce){var t=this.collectEventData(!0);this.userInfo.isLogin&&Object(et.a)(3,t,this.sLocale)}}},{key:"seekHistory",value:function(){var t,e,n,r=null!==(t=null===(e=this.videoData)||void 0===e||null===(n=e.view_history)||void 0===n?void 0:n.progress)&&void 0!==t?t:0;r>0&&this.player.seek(r)}}]),f}(g.f);dt([Object(j.b)("sLocale")],ht.prototype,"sLocale",void 0),dt([Object(j.b)("userInfo")],ht.prototype,"userInfo",void 0),dt([Object(j.b)((function(t){return t.Layout.isH5}))],ht.prototype,"isH5",void 0),dt([pt.State("videoData")],ht.prototype,"videoData",void 0),dt([Object(g.d)({default:"",type:String})],ht.prototype,"aid",void 0),dt([Object(g.d)({default:"",type:String})],ht.prototype,"cover",void 0);var vt=ht=dt([Object(g.a)({components:{CategoryTitle:$.a}})],ht),yt=(n(529),Object(L.a)(vt,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"ugc-player-wrapper media-size__video"},[e("div",{class:["player",this.fullScreenClass],attrs:{id:"bilibiliPlayer"}})])}),[],!1,null,"049d8e99",null).exports),mt=n(422),bt=n(379),gt=n(329),_t=n(330),kt=n(418),Ot=n(344),jt=n(362),wt=n(420),Ct=n(382),Rt=n(348),xt=n(385),Pt=n(386);function Dt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=y()(t);if(e){var o=y()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var St=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"==typeof Reflect?"undefined":b()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},It=function(t){d()(r,t);var e=Dt(r);function r(){var t;return s()(this,r),(t=e.apply(this,arguments)).removeIcon=n(530),t.handleRemove=function(e){t.$emit("remove",e)},t}return u()(r,[{key:"formatFileList",get:function(){return this.fileList.map((function(t){return"".concat(t,"?x-oss-process=image/resize,w_80,h_44,m_fill")}))}}]),r}(g.f);St([Object(g.d)({type:String,default:""})],It.prototype,"description",void 0),St([Object(g.d)({type:Array,required:!0,default:function(){return[]}})],It.prototype,"fileList",void 0);var Bt=It=St([Object(g.a)({})],It),Lt=(n(531),Object(L.a)(Bt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"upload-list"},[n("ul",{staticClass:"upload-list__images"},[t._l(t.formatFileList,(function(e,r){return n("li",{key:""+e+r,staticClass:"upload-list__image-wrap border-wrap"},[n("img",{staticClass:"upload-list__image",attrs:{src:e,alt:"upload image"}}),t._v(" "),n("img",{staticClass:"upload-list__delete-icon",attrs:{src:t.removeIcon,alt:"delete icon"},on:{click:function(e){return t.handleRemove(r)}}})])})),t._v(" "),n("li",{staticClass:"upload-list__image-wrap"},[t._t("default")],2)],2),t._v(" "),n("div",{staticClass:"upload-list__desc"},[t._v("\n    "+t._s(t.description)+"\n  ")])])}),[],!1,null,"723cd42a",null).exports);function At(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=y()(t);if(e){var o=y()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var Tt=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"==typeof Reflect?"undefined":b()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},$t=function(t){d()(r,t);var e=At(r);function r(){var t;return s()(this,r),(t=e.apply(this,arguments)).plusIcon=n(532),t.loadingIcon=n(533),t.handleChange=function(e){var n=t.$refs["upload-input"];t.$emit("change",e),n.value=""},t}return r}(g.f);Tt([Object(g.d)({type:String,default:""})],$t.prototype,"accept",void 0),Tt([Object(g.d)({type:Boolean,default:!1})],$t.prototype,"multiple",void 0),Tt([Object(g.d)({type:Boolean,default:!1})],$t.prototype,"loading",void 0);var Et=$t=Tt([Object(g.a)({})],$t),Ft=(n(534),Object(L.a)(Et,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("label",{staticClass:"upload-wrap",class:["upload-wrap",{loading:t.loading}]},[t.loading?n("img",{staticClass:"upload-wrap__loading",attrs:{src:t.loadingIcon,alt:"loading icon"}}):[n("img",{attrs:{src:t.plusIcon,alt:"icon"}}),t._v(" "),n("input",{ref:"upload-input",staticClass:"upload-wrap__input",attrs:{type:"file",accept:t.accept,multiple:t.multiple,title:""},on:{change:t.handleChange}})]],2)}),[],!1,null,"4499a049",null).exports),Mt=n(54),Nt=n(26),Ut=n(19),zt="undefined"==typeof window,Ht=(!zt&&window.localStorage.getItem("mock"),new(function(){function t(){s()(this,t);var e=Nt.a.apiUrl;this.bjax=new Mt.a({baseURL:"".concat(e,"/intl/gateway/web/v2/"),onSuccess:function(t){return t.code!==Ut.a.OK?Promise.reject(new Ut.b(t.code,t.message)):Promise.resolve(t.data)}})}return u()(t,[{key:"upload",value:function(t,e){return this.bjax.upload(t,e)}}]),t}()));function Vt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=y()(t);if(e){var o=y()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var qt=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"==typeof Reflect?"undefined":b()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},Gt=function(t){d()(r,t);var e,n=Vt(r);function r(){var t;return s()(this,r),(t=n.apply(this,arguments)).loading=!1,t}return u()(r,[{key:"exceedLimit",get:function(){return this.fileList.length>=this.limit}},{key:"handleChange",value:function(t){var e=this;Array.prototype.slice.call(t.target.files).forEach((function(t){e.accept&&!e.accept.includes(t.type)||e.postFile(t)}))}},{key:"handleRemove",value:function(t){var e=this.fileList.filter((function(e,n){return n!==t}));this.$emit("remove",this.fileList[t],e),this.$emit("change",e)}},{key:"postFile",value:(e=Z()(J.a.mark((function t(e){var n,r,i;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading=!0,(n=new FormData).append(this.name,e),t.prev=3,t.next=6,Ht.upload(this.action,n);case 6:r=t.sent,i=r.url,this.exceedLimit||(this.$emit("success",i,e),this.$emit("change",[].concat(o()(this.fileList),[i]))),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),this.$emit("error",t.t0,e);case 14:return t.prev=14,this.loading=!1,t.finish(14);case 17:case"end":return t.stop()}}),t,this,[[3,11,14,17]])}))),function(t){return e.apply(this,arguments)})}]),r}(g.f);qt([Object(g.d)({type:String,required:!0,default:""})],Gt.prototype,"action",void 0),qt([Object(g.d)({type:String,default:"file"})],Gt.prototype,"name",void 0),qt([Object(g.d)({type:String,default:"image/png,image/jpeg,image/jpg"})],Gt.prototype,"accept",void 0),qt([Object(g.d)({type:Number,default:1})],Gt.prototype,"limit",void 0),qt([Object(g.d)({type:String,default:""})],Gt.prototype,"description",void 0),qt([Object(g.d)({type:Boolean,default:!1})],Gt.prototype,"multiple",void 0),qt([Object(g.d)({type:Array,required:!0,default:function(){return[]}})],Gt.prototype,"fileList",void 0);var Wt=Gt=qt([Object(g.a)({components:{List:Lt,Upload:Ft}})],Gt),Yt=(n(535),Object(L.a)(Wt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("list",{attrs:{"file-list":t.fileList,description:t.description},on:{remove:t.handleRemove}},[t.exceedLimit?t._e():n("upload",{staticClass:"upload-block",attrs:{accept:t.accept,multiple:t.multiple,loading:t.loading},on:{change:t.handleChange}})],1)],1)}),[],!1,null,"b6d00e0a",null).exports),Qt=n(171),Zt=n.n(Qt),Kt=n(536),Jt=n.n(Kt),Xt=(n(317),n(419));function te(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=y()(t);if(e){var o=y()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var ee=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"==typeof Reflect?"undefined":b()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},ne=function(t){d()(n,t);var e=te(n);function n(){var t;return s()(this,n),(t=e.apply(this,arguments)).select=Zt()(t),t.isFocus=!1,t.selectedLabel="",t.options={placement:"bottom-start",modifiers:{offset:{offset:"16px, 8px"},arrow:{fn:function(t){return t.offsets.arrow={left:"45px"},t}}}},t}return u()(n,[{key:"focusClass",get:function(){return this.isFocus?"is-focus":""}},{key:"scrollToOption",value:function(){var t=this.$refs.scrollbar.$el.querySelector(".bstar-select-dropdown__wrap"),e=t.querySelector(".bstar-select__options-item.selected");e&&t&&setTimeout((function(){var n=t.offsetHeight,r=e.offsetTop-n/4;t.scrollTo(0,r)}),100)}},{key:"showPopper",value:function(){var t=this;this.isFocus=!0,this.$nextTick((function(){t.scrollToOption()}))}},{key:"hidePopper",value:function(t){var e=this;this.handleBlur(t),this.$nextTick((function(){e.handleFilterChange("")}))}},{key:"hideDropdown",value:function(){var t=this.$refs.popper;t&&t.doClose&&t.doClose()}},{key:"handleFocus",value:function(t){this.isFocus=!0,this.$emit("focus",t)}},{key:"handleBlur",value:function(t){this.isFocus=!1,this.$emit("blur",t)}},{key:"handleChange",value:function(t){this.$emit("change",t.target.value),this.$emit("input",t.target.value),this.handleBlur(t)}},{key:"setDefaultLabel",value:function(t){this.selectedLabel=t}},{key:"handleClick",value:function(t,e){this.selectedLabel=e,this.$emit("change",t),this.$emit("input",t),this.hideDropdown()}},{key:"handleFilterChange",value:function(t){var e=this;this.$emit("filter",t),this.$nextTick((function(){e.$refs.popper&&e.$refs.popper.updatePopper()}))}}]),n}(g.f);ee([Object(j.b)((function(t){return t.Layout.isH5}))],ne.prototype,"isH5",void 0),ee([Object(g.d)([String,Number,Boolean])],ne.prototype,"value",void 0),ee([Object(g.d)(String)],ne.prototype,"placeholder",void 0),ee([Object(g.d)(Boolean)],ne.prototype,"filterable",void 0),ee([Object(g.e)("select")],ne.prototype,"select",void 0);var re=ne=ee([Object(g.a)({components:{Popper:Jt.a,BstarInput:Rt.a,BstarScrollbar:Xt.a}})],ne),oe=(n(538),Object(L.a)(re,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bstar-select"},[t.isH5?n("div",{class:["bstar-select-mobile",t.focusClass]},[n("select",{ref:"selectMobile",staticClass:"bstar-select-mobile__inner",attrs:{name:"select"},on:{input:t.handleChange,focus:t.handleFocus,blur:t.handleBlur}},[t._t("default")],2),t._v(" "),n("i",{class:["bstar-select__icon",t.focusClass]})]):n("popper",{ref:"popper",attrs:{trigger:"clickToToggle","append-to-body":!0,"boundaries-selector":"#app",transition:"bstar-zoom","root-class":"bstar-select__inner","enter-active-class":"bstar-zoom-enter-active","leave-active-class":"bstar-zoom-leave-active",options:t.options},on:{show:t.showPopper,hide:t.hidePopper}},[n("div",{staticClass:"bstar-select__dropdown popper"},[n("div",{staticClass:"bstar-select__dropdown-container"},[t.filterable?n("div",{staticClass:"bstar-select__filter"},[n("bstar-input",{staticClass:"bstar-select__filter-input",attrs:{placeholder:t.$t("feedback.search")},on:{focus:t.handleFocus,input:t.handleFilterChange},scopedSlots:t._u([{key:"prepend",fn:function(){return[n("i",{staticClass:"bstar-select__filter-icon"})]},proxy:!0}],null,!1,1331991082)})],1):t._e(),t._v(" "),n("bstar-scrollbar",{ref:"scrollbar",attrs:{"wrap-class":"bstar-select-dropdown__wrap"}},[n("ul",{ref:"bstarSelectDropdown",staticClass:"bstar-select__options"},[t._t("default")],2)])],1)]),t._v(" "),n("bstar-input",{attrs:{slot:"reference",placeholder:t.placeholder,readonly:""},on:{focus:t.handleFocus,blur:t.handleBlur},slot:"reference",scopedSlots:t._u([{key:"suffix",fn:function(){return[n("i",{class:["bstar-select__icon",t.focusClass]})]},proxy:!0}],null,!1,3965621688),model:{value:t.selectedLabel,callback:function(e){t.selectedLabel=e},expression:"selectedLabel"}})],1)],1)}),[],!1,null,null,null).exports);function ie(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=y()(t);if(e){var o=y()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var ae=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"==typeof Reflect?"undefined":b()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},ce=function(t){d()(n,t);var e=ie(n);function n(){return s()(this,n),e.apply(this,arguments)}return u()(n,[{key:"mounted",value:function(){this.isSelected&&this.setDefaultLabel()}},{key:"componentName",get:function(){return this.isH5?"option":"li"}},{key:"isSelected",get:function(){return this.select.value.toString()===this.value.toString()}},{key:"setDefaultLabel",value:function(){this.select.setDefaultLabel(this.label)}},{key:"handleClick",value:function(){this.select.handleClick(this.value,this.label)}}]),n}(g.f);ae([Object(g.d)(String)],ce.prototype,"label",void 0),ae([Object(g.d)([String,Number,Boolean])],ce.prototype,"value",void 0),ae([Object(j.b)((function(t){return t.Layout.isH5}))],ce.prototype,"isH5",void 0),ae([Object(g.b)()],ce.prototype,"select",void 0);var se=ce=ae([g.a],ce),le=(n(539),Object(L.a)(se,(function(){var t=this,e=t.$createElement;return(t._self._c||e)(t.componentName,{tag:"component",class:["bstar-select__options-item",{selected:t.isSelected}],attrs:{value:t.value,selected:t.isSelected,label:t.label},on:{click:function(e){return e.stopPropagation(),t.handleClick.apply(null,arguments)}}},[t._t("default",(function(){return[t._v("\n    "+t._s(t.label)+"\n  ")]}))],2)}),[],!1,null,"5f143c56",null).exports);function ue(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function fe(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ue(Object(n),!0).forEach((function(e){a()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ue(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function de(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=y()(t);if(e){var o=y()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var pe=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"==typeof Reflect?"undefined":b()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},he=function(t){d()(n,t);var e=de(n);function n(){var t;return s()(this,n),(t=e.apply(this,arguments)).filterKey="",t}return u()(n,[{key:"list",get:function(){var t=this;return this.options.map((function(e){return fe(fe({},e),{},{short_name:e.short_name||"",short_label:t.showFullName?e.name:"".concat(e.short_name||""," +").concat(e.country_id),full_label:t.showFullName?e.name:"".concat(e.name||""," +").concat(e.country_id)})}))}},{key:"idMap",get:function(){return this.list.reduce((function(t,e){return fe(fe({},t),{},a()({},e.id,e))}),{})}},{key:"filterList",get:function(){var t=this;return this.filterKey?this.list.filter((function(e){return e.name.toLowerCase().includes(t.filterKey.toLowerCase())||e.short_name.toLowerCase().includes(t.filterKey.toLowerCase())||"+".concat(e.country_id).includes(t.filterKey.toLowerCase())})):this.list}},{key:"handleFocus",value:function(t){this.$emit("focus",t)}},{key:"handleBlur",value:function(t){this.$emit("blur",t)}},{key:"handleChange",value:function(t){this.$emit("input",t),this.$emit("change",this.idMap[t])}},{key:"handleFilterCountry",value:function(t){this.filterKey=t}}]),n}(g.f);pe([Object(g.d)({type:Number,required:!0,default:0})],he.prototype,"value",void 0),pe([Object(g.d)({type:Array,required:!0,default:function(){return[]}})],he.prototype,"options",void 0),pe([Object(g.d)({type:Boolean,default:!0})],he.prototype,"showFullName",void 0);var ve=he=pe([Object(g.a)({components:{BstarSelect:oe,BstarOption:le}})],he),ye=(n(540),Object(L.a)(ve,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("bstar-select",{staticClass:"country-selection",attrs:{value:t.value,filterable:""},on:{focus:t.handleFocus,blur:t.handleBlur,change:t.handleChange,filter:t.handleFilterCountry}},[t.filterList.length>0?t._l(t.filterList,(function(e){return n("bstar-option",{key:e.id,attrs:{label:e.short_label,value:e.id}},[n("span",[t._v(t._s(e.full_label))])])})):n("p",{staticClass:"country-selection__empty"},[t._v("\n    "+t._s(t.$t("feedback.noResult"))+"\n  ")])],2)}),[],!1,null,null,null).exports);function me(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=y()(t);if(e){var o=y()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var be=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"==typeof Reflect?"undefined":b()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},ge=function(t){d()(n,t);var e=me(n);function n(){var t;return s()(this,n),(t=e.apply(this,arguments)).id=null,t.phone="",t.isInputFocus=!1,t.isSelectFocus=!1,t}return u()(n,[{key:"countryId",get:function(){return this.id||this.getCurrentCountryId()},set:function(t){this.id=t}},{key:"getCurrentCountryId",value:function(){var t,e=this,n=this.options.filter((function(t){return t.id===e.currentId}));return n.length>0?null===(t=n[0])||void 0===t?void 0:t.country_id:0}},{key:"handleInputFocus",value:function(){this.isInputFocus=!0}},{key:"handleInputBlur",value:function(){this.isInputFocus=!1}},{key:"handleSelectFocus",value:function(){this.isSelectFocus=!0}},{key:"handleSelectBlur",value:function(){this.isSelectFocus=!1}},{key:"handleInputChange",value:function(t){var e=""===t?"":"+".concat(this.countryId).concat(t);this.$emit("input",e)}},{key:"handleInputKeyup",value:function(){this.phone=this.phone.replace(/[^\d-]/g,"")}},{key:"handleSelectChange",value:function(t){this.countryId=t.country_id,""!==this.phone&&this.$emit("input","+".concat(t.country_id).concat(this.phone))}}]),n}(g.f);be([Object(g.d)({type:Number,required:!0,default:0})],ge.prototype,"currentId",void 0),be([Object(g.d)({type:Array,required:!0,default:function(){return[]}})],ge.prototype,"options",void 0),be([Object(g.d)({type:String,default:""})],ge.prototype,"placeholder",void 0);var _e=ge=be([Object(g.a)({components:{BInput:Rt.a,CountrySelection:ye}})],ge),ke=(n(541),Object(L.a)(_e,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:["bstar-country-phone",{"is-focus":t.isInputFocus||t.isSelectFocus}]},[n("b-input",{staticClass:"bstar-country-phone__number",attrs:{placeholder:t.placeholder},on:{focus:t.handleInputFocus,blur:t.handleInputBlur,input:t.handleInputChange},nativeOn:{keyup:function(e){return t.handleInputKeyup.apply(null,arguments)}},scopedSlots:t._u([{key:"prepend",fn:function(){return[n("country-selection",{attrs:{value:t.currentId,options:t.options,"show-full-name":!1},on:{focus:t.handleSelectFocus,blur:t.handleSelectBlur,change:t.handleSelectChange}})]},proxy:!0}]),model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}})],1)}),[],!1,null,null,null).exports),Oe=n(23);function je(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=y()(t);if(e){var o=y()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var we,Ce=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"==typeof Reflect?"undefined":b()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};!function(t){t[t.Reason=0]="Reason",t[t.ProofId=1]="ProofId",t[t.Report=2]="Report"}(we||(we={}));var Re=function(t){d()(r,t);var e,n=je(r);function r(){var t;return s()(this,r),(t=n.apply(this,arguments)).countries=[],t}return u()(r,[{key:"reasonOptions",get:function(){return this.components.reason.options.map((function(t){return{value:t.value,label:t.title}}))}},{key:"proofIdOptions",get:function(){return this.components.proof_identity.options.map((function(t){return{value:t.value,label:t.title}}))}},{key:"isStepOne",get:function(){return this.step===we.Reason}},{key:"isStepTwo",get:function(){return this.step===we.ProofId}},{key:"piracyForm",get:function(){var t=this.report.proof_id===Ot.b.None,e={key:"proof_owner_name",value:this.report.proof_owner_name,title:this.components.proof_name.title,required:!0,isInput:!0},n=this.report.proof_id===Ot.b.Author?"proof_dashboard_images":"proof_auth_images",r={key:"proof_images",value:this.report.proof_images,title:this.components[n].title,description:this.components[n].description,required:!0,isUpload:!0},o={key:"proof_url",value:this.report.proof_url,title:this.components.proof_url.title,placeholder:this.components.proof_url.placeholder,required:!0,isInput:!0},i={key:"proof_phone",value:this.report.proof_phone,title:this.components.phone.title,placeholder:this.components.phone.placeholder,required:!0,isPhone:!0,smallMargin:!t},a={key:"email",value:this.report.email,title:t?this.components.primary_email.title:"",placeholder:this.components.primary_email.placeholder,required:t,isInput:!0},c={key:"other_email",value:this.report.other_email,title:this.components.secondary_email.title,placeholder:this.components.secondary_email.placeholder,isInput:!0},s=this.report.proof_id===Ot.b.None?"additional_detail":"proof_description",l={key:"supplement_content",value:this.report.supplement_content,title:this.components[s].title,placeholder:this.components[s].placeholder,inputType:"textarea",isInput:!0},u={key:"proof_country",value:this.report.proof_country,title:this.components.region.title,required:!0,isCountry:!0};return[!t&&e,this.report.proof_id===Ot.b.CopyrightAgent&&r,[Ot.b.Author,Ot.b.None].includes(this.report.proof_id)&&o,this.report.proof_id===Ot.b.Author&&r,!t&&u,!t&&i,a,!t&&c,l].filter((function(t){return t}))}},{key:"otherForm",get:function(){return[{key:"supplement_content",value:this.report.supplement_content,title:this.components.additional_detail.title,placeholder:this.components.additional_detail.placeholder,required:this.report.reason_id===Ot.c.Others,inputType:"textarea",isInput:!0},{key:"images",value:this.report.images,title:this.components.screenshot.title,description:this.components.screenshot.description,isUpload:!0},{key:"email",value:this.report.email,title:this.components.email.title,placeholder:this.components.email.placeholder,isInput:!0}]}},{key:"formItems",get:function(){return this.report.reason_id===Ot.c.PiracyAndInfringingContent?this.piracyForm:this.otherForm}},{key:"handleChange",value:function(t,e){this.$emit("change",a()({},t,e))}},{key:"fetchCountryList",value:(e=Z()(J.a.mark((function t(){var e,n,r;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Oe.a.getCountryList();case 3:e=t.sent,n=e.data,this.countries=n.common,(r=this.countries.find((function(t){return t.country_id===n.current_id})))&&this.handleChange("proof_country",r.id),this.$emit("current-id",r.id),t.next=13;break;case 11:t.prev=11,t.t0=t.catch(0);case 13:case"end":return t.stop()}}),t,this,[[0,11]])}))),function(){return e.apply(this,arguments)})},{key:"mounted",value:function(){this.fetchCountryList()}}]),r}(g.f);Ce([Object(g.d)({type:Object,required:!0})],Re.prototype,"components",void 0),Ce([Object(g.d)({type:Object,required:!0})],Re.prototype,"report",void 0),Ce([Object(g.d)({type:Number,required:!0})],Re.prototype,"step",void 0),Ce([Object(g.d)(Number)],Re.prototype,"currentId",void 0),Ce([Object(g.d)(Array)],Re.prototype,"errors",void 0);var xe=Re=Ce([Object(g.a)({components:{Radio:Ct.a,BInput:Rt.a,BForm:xt.a,BFormItem:Pt.a,Upload:Yt,Phone:ke,CountrySelect:ye}})],Re),Pe=Object(L.a)(xe,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-form",{attrs:{invalid:t.errors}},[t.isStepOne?n("b-form-item",{attrs:{prop:"reason_id",label:t.components.reason.title}},[n("radio",{attrs:{value:t.report.reason_id,options:t.reasonOptions},on:{change:function(e){return t.handleChange("reason_id",e)}}})],1):t.isStepTwo?n("b-form-item",{attrs:{prop:"proof_id",label:t.components.proof_identity.title}},[n("radio",{attrs:{value:t.report.proof_id,options:t.proofIdOptions},on:{change:function(e){return t.handleChange("proof_id",e)}}})],1):n("div",t._l(t.formItems,(function(e){return n("b-form-item",{key:e.key,style:e.smallMargin&&{"margin-bottom":"16px"},attrs:{prop:e.key,label:e.title,required:e.required}},[e.isInput?n("b-input",{attrs:{type:e.inputType,value:e.value,placeholder:e.placeholder,rows:5},on:{input:function(n){return t.handleChange(e.key,n)}}}):t._e(),t._v(" "),e.isUpload?n("upload",{attrs:{action:"/upload/image",limit:6,"file-list":e.value,description:e.description},on:{change:function(n){return t.handleChange(e.key,n)}}}):t._e(),t._v(" "),e.isCountry?n("country-select",{attrs:{value:e.value,options:t.countries,"show-full-name":""},on:{input:function(n){return t.handleChange(e.key,n)}}}):t._e(),t._v(" "),e.isPhone?n("phone",{attrs:{"current-id":t.currentId,options:t.countries,placeholder:e.placeholder},on:{input:function(n){return t.handleChange(e.key,n)}}}):t._e()],1)})),1)],1)}),[],!1,null,null,null).exports;function De(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=y()(t);if(e){var o=y()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var Se,Ie=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"==typeof Reflect?"undefined":b()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};!function(t){t[t.Reason=0]="Reason",t[t.ProofId=1]="ProofId",t[t.Report=2]="Report"}(Se||(Se={}));var Be=function(t){d()(r,t);var e,n=De(r);function r(){var t;return s()(this,r),(t=n.apply(this,arguments)).countries=[],t}return u()(r,[{key:"reasonOptions",get:function(){return this.components.reason.options.map((function(t){return{value:t.value,label:t.title}}))}},{key:"proofIdOptions",get:function(){return this.components.proof_identity.options.map((function(t){return{value:t.value,label:t.title}}))}},{key:"isStepOne",get:function(){return this.step===Se.Reason}},{key:"isStepTwo",get:function(){return this.step===Se.ProofId}},{key:"piracyForm",get:function(){var t=this.report.proof_id===Ot.b.None,e={key:"proof_owner_name",value:this.report.proof_owner_name,title:this.components.proof_name.title,required:!0,isInput:!0},n=this.report.proof_id===Ot.b.Author?"proof_dashboard_images":"proof_auth_images",r={key:"proof_images",value:this.report.proof_images,title:this.components[n].title,description:this.components[n].description,required:!0,isUpload:!0},o={key:"proof_url",value:this.report.proof_url,title:this.components.proof_url.title,placeholder:this.components.proof_url.placeholder,required:!0,isInput:!0},i={key:"proof_phone",value:this.report.proof_phone,title:this.components.phone.title,placeholder:this.components.phone.placeholder,required:!0,isPhone:!0,smallMargin:!t},a={key:"email",value:this.report.email,title:t?this.components.primary_email.title:"",placeholder:this.components.primary_email.placeholder,required:t,isInput:!0},c={key:"other_email",value:this.report.other_email,title:this.components.secondary_email.title,placeholder:this.components.secondary_email.placeholder,isInput:!0},s=this.report.proof_id===Ot.b.None?"additional_detail":"proof_description",l={key:"supplement_content",value:this.report.supplement_content,title:this.components[s].title,placeholder:this.components[s].placeholder,inputType:"textarea",isInput:!0},u={key:"proof_country",value:this.report.proof_country,title:this.components.region.title,required:!0,isCountry:!0};return[!t&&e,this.report.proof_id===Ot.b.CopyrightAgent&&r,[Ot.b.Author,Ot.b.None].includes(this.report.proof_id)&&o,this.report.proof_id===Ot.b.Author&&r,!t&&u,!t&&i,a,!t&&c,l].filter((function(t){return t}))}},{key:"otherForm",get:function(){return[{key:"supplement_content",value:this.report.supplement_content,title:this.components.additional_detail.title,placeholder:this.components.additional_detail.placeholder,required:this.report.reason_id===Ot.c.Others,inputType:"textarea",isInput:!0},{key:"images",value:this.report.images,title:this.components.screenshot.title,description:this.components.screenshot.description,isUpload:!0},{key:"email",value:this.report.email,title:this.components.email.title,placeholder:this.components.email.placeholder,isInput:!0}]}},{key:"formItems",get:function(){return this.report.reason_id===Ot.c.PiracyAndInfringingContent?this.piracyForm:this.otherForm}},{key:"handleChange",value:function(t,e){this.$emit("change",a()({},t,e))}},{key:"fetchCountryList",value:(e=Z()(J.a.mark((function t(){var e,n,r;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Oe.a.getCountryList();case 3:e=t.sent,n=e.data,this.countries=n.common,(r=this.countries.find((function(t){return t.country_id===n.current_id})))&&this.handleChange("proof_country",r.id),this.$emit("current-id",r.id),t.next=13;break;case 11:t.prev=11,t.t0=t.catch(0);case 13:case"end":return t.stop()}}),t,this,[[0,11]])}))),function(){return e.apply(this,arguments)})},{key:"mounted",value:function(){this.fetchCountryList()}}]),r}(g.f);Ie([Object(g.d)({type:Object,required:!0})],Be.prototype,"components",void 0),Ie([Object(g.d)({type:Object,required:!0})],Be.prototype,"report",void 0),Ie([Object(g.d)({type:Number,required:!0})],Be.prototype,"step",void 0),Ie([Object(g.d)(Number)],Be.prototype,"currentId",void 0),Ie([Object(g.d)(Array)],Be.prototype,"errors",void 0);Be=Ie([Object(g.a)({components:{Radio:Ct.a,BInput:Rt.a,BForm:xt.a,BFormItem:Pt.a,Upload:Yt,Phone:ke,CountrySelect:ye}})],Be);var Le=n(542);function Ae(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Te(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ae(Object(n),!0).forEach((function(e){a()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ae(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function $e(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=y()(t);if(e){var o=y()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var Ee=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"==typeof Reflect?"undefined":b()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},Fe=function(t){d()(r,t);var e,n=$e(r);function r(){var t;return s()(this,r),(t=n.apply(this,arguments)).report={reason_id:Ot.c.Invalid,proof_id:Ot.b.Invalid,proof_owner_name:"",proof_url:"",proof_images:[],proof_country:0,proof_phone:"",email:"",images:[],supplement_content:""},t.validator=new Le.a({email:{type:"email",message:t.$t("feedback.invalidEmail")},other_email:{type:"email",message:t.$t("feedback.invalidEmail")},proof_phone:{type:"string",pattern:"^\\+(\\d|-)+$",message:t.$t("feedback.invalidPhone")}}),t.message={},t.errors=[],t.step=Se.Reason,t.currentId=0,t.visible=!1,t.isPlaying=!1,t.isPosting=!1,t}return u()(r,[{key:"dialogProps",get:function(){return{visible:this.visible,feedbackType:Ot.a.UGC,message:this.message,disabled:this.disabled,loading:this.isPosting,showBack:this.step!==Se.Reason&&!this.message.success,showNext:this.step===Se.Reason||this.step===Se.ProofId}}},{key:"disabled",get:function(){if(this.step===Se.Reason)return this.report.reason_id===Ot.c.Invalid;if(this.step===Se.ProofId)return this.report.proof_id===Ot.b.Invalid;if(this.report.reason_id===Ot.c.Others)return!this.report.supplement_content;if(this.report.reason_id===Ot.c.PiracyAndInfringingContent){var t=Object.entries(this.report).filter((function(t){return["proof_owner_name","proof_country","proof_phone","email"].includes(t[0])})).some((function(t){return!t[1]}));switch(this.report.proof_id){case Ot.b.Author:return t||!this.report.proof_url||!this.report.proof_images.length;case Ot.b.CopyrightAgent:return t||!this.report.proof_images.length;case Ot.b.None:return!this.report.proof_url||!this.report.email;default:return t}}return!1}},{key:"reset",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t&&(this.report={reason_id:e?this.report.reason_id:Ot.c.Invalid,proof_id:e?this.report.proof_id:Ot.b.Invalid,proof_owner_name:"",proof_url:"",proof_images:[],proof_country:this.currentId,proof_phone:"",email:"",images:[],supplement_content:""}),this.message={},this.errors=[]}},{key:"handleChange",value:function(t){this.report=Te(Te({},this.report),t)}},{key:"handleSubmit",value:(e=Z()(J.a.mark((function t(){var e,n,r,o;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.reset(!1),this.step!==Se.Reason){t.next=4;break}return this.step=this.report.reason_id===Ot.c.PiracyAndInfringingContent?Se.ProofId:Se.Report,t.abrupt("return");case 4:if(this.step!==Se.ProofId){t.next=7;break}return this.step=Se.Report,t.abrupt("return");case 7:return e=Te(Te({},this.report),{},{proof_id:this.report.reason_id===Ot.c.PiracyAndInfringingContent?this.report.proof_id:Ot.b.Invalid,aid:this.$route.params.aid}),t.prev=8,t.next=11,this.validator.validate(e);case 11:t.next=18;break;case 13:return t.prev=13,t.t0=t.catch(8),n=t.t0.errors,this.errors=n,t.abrupt("return",!1);case 18:return this.isPosting=!0,t.prev=19,t.next=22,Object(jt.b)(e)(this.sLocale);case 22:o=t.sent,this.message={success:null===(r=o.data)||void 0===r?void 0:r.toast},t.next=29;break;case 26:t.prev=26,t.t1=t.catch(19),this.message={error:this.$t("feedback.error")};case 29:return t.prev=29,this.isPosting=!1,t.finish(29);case 32:case"end":return t.stop()}}),t,this,[[8,13],[19,26,29,32]])}))),function(){return e.apply(this,arguments)})},{key:"handleBack",value:function(){if(this.step===Se.Reason)return!1;this.step===Se.ProofId?this.step=Se.Reason:this.step=this.report.reason_id===Ot.c.PiracyAndInfringingContent?Se.ProofId:Se.Reason,this.reset(!0,!0)}},{key:"handleClose",value:function(){var t=this;this.visible=!1,setTimeout((function(){t.step=Se.Reason,t.reset(),t.isPlaying&&ct.b.$emit(ct.a.CloseReport)}),400)}},{key:"handleCurrentId",value:function(t){this.currentId=t}},{key:"mounted",value:function(){var t=this;ct.b.$on(ct.a.ClickReport,(function(e){t.isPlaying=e.isPlaying,t.visible=!0}))}},{key:"beforeDestroy",value:function(){ct.b.$off(ct.a.ClickReport)}}]),r}(g.f);Ee([Object(j.b)("sLocale")],Fe.prototype,"sLocale",void 0);var Me=Fe=Ee([Object(g.a)({components:{FeedbackForm:Pe,FeedbackDialog:wt.a}})],Fe),Ne=Object(L.a)(Me,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("feedback-dialog",t._b({on:{close:t.handleClose,submit:t.handleSubmit,back:t.handleBack},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.components;return[n("feedback-form",{attrs:{components:r,report:t.report,step:t.step,errors:t.errors,"current-id":t.currentId},on:{change:t.handleChange,"current-id":t.handleCurrentId}})]}}])},"feedback-dialog",t.dialogProps,!1))}),[],!1,null,null,null).exports,Ue=n(421),ze=n(36),He=n(417);function Ve(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function qe(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ve(Object(n),!0).forEach((function(e){a()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ve(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ge(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=y()(t);if(e){var o=y()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var We=function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===("undefined"==typeof Reflect?"undefined":b()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},Ye=function(t){d()(n,t);var e=Ge(n);function n(){var t;return s()(this,n),(t=e.apply(this,arguments)).PAGE_STATUS=_.f,t.pageType=_.g.ugcDetail,t.feedbackVisible=!1,t}return u()(n,[{key:"isShowSidebar",get:function(){return this.layoutSize<2||this.isInfoTab}},{key:"isInfoTab",get:function(){return!this.$route.name.includes("VideoComment")}},{key:"aid",get:function(){return this.$route.params.aid||this.videoData.aid}},{key:"resourceType",get:function(){return ze.c.UGC}},{key:"mounted",value:function(){this.errorState===_.f.error&&this.remakeAllRequest()}},{key:"remakeAllRequest",value:function(){var t=this.$store.state.sLocale,e=this.$store,n=this.aid,r=Object(O.d)(t),o={params:qe({aid:n},r.params),context:r.context},i={pn:0,ps:20,oid:n,type:ze.c.UGC,sort_type:ze.e.Hot};return e.commit("comment/setRootParams",i),Promise.all([e.dispatch("UgcVideo/getVideoData",o),e.dispatch("UgcVideo/getUgcRecommend",o),e.dispatch("UgcVideo/getUgcTrending",o),e.dispatch("comment/getRootComment")])}},{key:"jumpToHome",value:function(){this.$store.commit("setIsDark",!1),this.$store.commit("setFallback",!0),Object(x.m)({router:{url:"/",vm:this}})}},{key:"handleVideoInfoClick",value:function(t){var e=t.type;"up"===e?P.a.clickUp({uid:t.uid}):"follow"===e&&P.a.clickUpFollow({uid:t.uid})}}],[{key:"asyncData",value:function(t){var e=t.store,n=t.context,r=t.route;e.commit("setSLocale",r.params.sLocale||"en");var o=n.query||r.query||a()({},w.a,P.a.from.share),i="https://www.bilibili.tv".concat(r.path),c=k.d[e.state.sLocale];Object.keys(o).forEach((function(t,e){"s_locale"===t&&(c=o[t]),i+="".concat(0===e?"?":"&").concat(t,"=").concat(o[t])}));var s=Object(O.d)(e.state.sLocale,n),l={params:qe(qe({},s.params),{tp:1,oid:r.params.aid,s_locale:k.d[e.state.sLocale],type:0,formatSLocale:e.state.sLocale,h5_url:i,share_locale:c}),context:s.context},u={params:qe({aid:r.params.aid},s.params),context:s.context},f={pn:0,ps:20,oid:r.params.aid,type:ze.c.UGC,sort_type:ze.e.Hot};return e.commit("comment/setRootParams",f),Promise.all([e.dispatch("UgcVideo/getVideoData",u),e.dispatch("UgcVideo/getShareField",l),e.dispatch("UgcVideo/getUgcRecommend",u),e.dispatch("UgcVideo/getUgcTrending",u),e.dispatch("comment/getRootComment",n)])}}]),n}(g.f);We([Object(j.b)("isDark")],Ye.prototype,"isDark",void 0),We([Object(j.b)("sLocale")],Ye.prototype,"sLocale",void 0),We([Object(j.b)("userInfo")],Ye.prototype,"userInfo",void 0),We([Object(j.b)("layoutSize")],Ye.prototype,"layoutSize",void 0),We([Object(j.b)((function(t){return t.UgcVideo.videoData}))],Ye.prototype,"videoData",void 0),We([Object(j.b)((function(t){return t.UgcVideo.shareData}))],Ye.prototype,"shareData",void 0),We([Object(j.b)((function(t){return t.UgcVideo.ugcRecommend}))],Ye.prototype,"ugcRecommend",void 0),We([Object(j.b)((function(t){return t.UgcVideo.ugcTrending}))],Ye.prototype,"ugcTrending",void 0),We([Object(j.b)((function(t){return t.UgcVideo.errorState}))],Ye.prototype,"errorState",void 0);var Qe=Ye=We([Object(g.a)({metaInfo:function(){var t,e,n,r=Object(x.l)(this,"",{upperCase:["description"]}),i=r.keyword,a=r.description,c=this.$store.state.UgcVideo.videoData||{},s=this.$store.state.UgcVideo.shareData||{},l=this.$store.state.useBstation?k.a.indonesia:k.a.normal,u=this.$route.path,f="".concat(c.title?"".concat(c.title,"_").concat(l):l),d=s.horizontal_pic,p=s.vertical_pic,h=null!==(t=null===(e=Object(O.l)(d||p,1200,630))||void 0===e?void 0:e.replace(".webp",""))&&void 0!==t?t:"",v=Object(x.i)(u),y=Object(x.j)(f,c.desc,c.cover||h,null,c.formatted_pub_date,null==c||null===(n=c.uploader)||void 0===n?void 0:n.name);return{title:f,meta:[{name:"spm_prefix",content:w.c.ugc},{itemprop:"name",content:f},{itemprop:"description",name:"description",content:a},{itemprop:"keywords",name:"keywords",content:i},{name:"og:type",content:"video"},{name:"og:type",content:"video.episode"},{name:"og:title",content:s.title},{name:"og:locale",content:s.s_locale},{name:"og:description",content:s.desc},{name:"og:url",content:s.url},{name:"og:video",content:s.url},{name:"og:video:url",content:s.url},{name:"og:video:type",content:"video/mp4"},{name:"og:video:width ",content:600},{name:"og:video:height ",content:338},{name:"og:image",content:h},{name:"og:image:width",content:1200},{name:"og:image:height",content:630}],script:[y],link:[{rel:"apple-touch-icon",href:h}].concat(o()(v.link))}},components:{Error:gt.a,OpenAppButton:_t.a,SideUgc:A,BreadCrumb:mt.a,BreadCrumbItem:bt.a,CategoryTitle:$.a,BottomRecommend:H,BottomTrending:Y,UgcPlayer:yt,VideoInfo:kt.a,Feedback:Ne,VideoDetailTab:Ue.a,CommentList:He.a}})],Ye),Ze=(n(543),Object(L.a)(Qe,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ugc-video-wrapper media-width__video"},[t.errorState===t.PAGE_STATUS.error?n("Error"):[n("BreadCrumb",{staticClass:"media-size__video-wrap",attrs:{dark:t.isDark}},[n("BreadCrumbItem",{on:{click:t.jumpToHome}},[t._v("\n        "+t._s(t.$t("home.navList[0]"))+"\n      ")]),t._v(" "),t.videoData.title&&""!==t.videoData.title?n("BreadCrumbItem",[t._v("\n        "+t._s(t.videoData.title)+"\n      ")]):t._e()],1),t._v(" "),n("div",{staticClass:"ugc-video-wrapper__body"},[n("div",{staticClass:"ugc-video-wrapper__main"},[n("section",{class:{"section-player":!0}},[n("UgcPlayer",{attrs:{cover:t.videoData.cover,aid:t.aid}})],1),t._v(" "),n("section",{staticClass:"section-info"},[n("video-detail-tab",{attrs:{type:t.resourceType}}),t._v(" "),t.isInfoTab?t._e():n("comment-list",{attrs:{oid:t.aid,type:t.resourceType}}),t._v(" "),t.isInfoTab?n("video-info",{attrs:{"ugc-data":t.videoData},on:{click:t.handleVideoInfoClick}}):t._e()],1)]),t._v(" "),n("section",{staticClass:"section-recommend"},[n("CategoryTitle",{attrs:{title:t.$t("video.ogvRecommend"),dark:t.isDark,"custom-class":"ugc-recommend-title"}}),t._v(" "),t.isShowSidebar?n("SideUgc",{attrs:{list:t.ugcRecommend}}):t._e()],1)]),t._v(" "),t.isInfoTab?n("div",{staticClass:"ugc-video-wrapper__foot"},[n("BottomRecommend",{staticClass:"ugc-video-wrapper__show-bottom-recommend",attrs:{list:t.ugcRecommend}}),t._v(" "),n("BottomTrending",{attrs:{list:t.ugcTrending}})],1):t._e(),t._v(" "),n("OpenAppButton",{attrs:{type:t.pageType,opts:{aid:t.aid}}}),t._v(" "),n("feedback")]],2)}),[],!1,null,"dd2e1e9e",null));e.default=Ze.exports}}]);